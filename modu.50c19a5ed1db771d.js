/*! For license information please see modu.50c19a5ed1db771d.js.LICENSE.txt */
(("undefined"!=typeof self?self:this).webpackChunk_polkadot_apps=("undefined"!=typeof self?self:this).webpackChunk_polkadot_apps||[]).push([[6641],{30387:(t,e)=>{"use strict";e.Z=function(t,e){if(t&&e){var i=Array.isArray(e)?e:e.split(","),r=t.name||"",n=(t.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return i.some((function(t){var e=t.trim().toLowerCase();return"."===e.charAt(0)?r.toLowerCase().endsWith(e):e.endsWith("/*")?s===e.replace(/\/.*$/,""):n===e}))}return!0}},95766:(t,e)=>{"use strict";e.byteLength=function(t){var e=h(t),i=e[0],r=e[1];return 3*(i+r)/4-r},e.toByteArray=function(t){var e,i,s=h(t),o=s[0],a=s[1],c=new n(function(t,e,i){return 3*(e+i)/4-i}(0,o,a)),u=0,l=a>0?o-4:o;for(i=0;i<l;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,c[u++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,s=[],o=16383,a=0,h=r-n;a<h;a+=o)s.push(c(t,a,a+o>h?h:a+o));return 1===n?(e=t[r-1],s.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],s.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),s.join("")};for(var i=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)i[o]=s[o],r[s.charCodeAt(o)]=o;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,r){for(var n,s,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(i[(s=n)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},39875:(t,e,i)=>{var r=i(77834).Buffer;t.exports={check:function(t){if(t.length<8)return!1;if(t.length>72)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-2)return!1;if(2!==t[2])return!1;var e=t[3];if(0===e)return!1;if(5+e>=t.length)return!1;if(2!==t[4+e])return!1;var i=t[5+e];return!(0===i||6+e+i!==t.length||128&t[4]||e>1&&0===t[4]&&!(128&t[5])||128&t[e+6]||i>1&&0===t[e+6]&&!(128&t[e+7]))},decode:function(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(48!==t[0])throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(2!==t[2])throw new Error("Expected DER integer");var e=t[3];if(0===e)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(2!==t[4+e])throw new Error("Expected DER integer (2)");var i=t[5+e];if(0===i)throw new Error("S length is zero");if(6+e+i!==t.length)throw new Error("S length is invalid");if(128&t[4])throw new Error("R value is negative");if(e>1&&0===t[4]&&!(128&t[5]))throw new Error("R value excessively padded");if(128&t[e+6])throw new Error("S value is negative");if(i>1&&0===t[e+6]&&!(128&t[e+7]))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}},encode:function(t,e){var i=t.length,n=e.length;if(0===i)throw new Error("R length is zero");if(0===n)throw new Error("S length is zero");if(i>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(128&t[0])throw new Error("R value is negative");if(128&e[0])throw new Error("S value is negative");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("R value excessively padded");if(n>1&&0===e[0]&&!(128&e[1]))throw new Error("S value excessively padded");var s=r.allocUnsafe(6+i+n);return s[0]=48,s[1]=s.length-2,s[2]=2,s[3]=t.length,t.copy(s,4),s[4+i]=2,s[5+i]=e.length,e.copy(s,6+i),s}}},62197:function(t,e,i){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(33196).Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var r=a(t,i);return i-1>=e&&(r|=a(t,i-1)<<4),r}function c(t,e,i,r){for(var n=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;n*=r,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===i)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,s=0,o=0;if("be"===i)for(r=t.length-1;r>=e;r-=2)n=h(t,e,r)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)n=h(t,e,r)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=e)r++;r--,n=n/e|0;for(var s=t.length-i,o=s%r,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=r)h=c(t,u,u+r,e),this.imuln(n),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var l=1;for(h=c(t,u,t.length,e),u=0;u<o;u++)l*=e;this.imuln(l),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,i){i.negative=e.negative^t.negative;var r=t.length+e.length|0;i.length=r,r=r-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var c=1;c<r;c++){for(var u=h>>>26,l=67108863&h,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;u+=(o=(n=0|t.words[p])*(s=0|e.words[d])+l)/67108864|0,l=67108863&o}i.words[c]=0|l,h=0|u}return 0!==h?i.words[c]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<n|s)).toString(16);i=0!=(s=a>>>24-n&16777215)||o!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);i=(p=p.idivn(d)).isZero()?m+i:u[c-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),s=i||Math.max(1,n);r(n<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,c=new t(s),u=this.clone();if(h){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-n;a++)c[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var r=0;r<i.length;r++)this.words[r]=e.words[r]^i.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},s.prototype.iadd=function(t){var e,i,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0,s=0;s<r.length;s++)e=(0|i.words[s])+(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<i.length;s++)e=(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,r,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=t):(i=t,r=this);for(var s=0,o=0;o<r.length;o++)s=(e=(0|i.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var r,n,s,o=t.words,a=e.words,h=i.words,c=0,u=0|o[0],l=8191&u,f=u>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,M=w>>>13,S=0|o[4],k=8191&S,x=S>>>13,E=0|o[5],B=8191&E,_=E>>>13,A=0|o[6],T=8191&A,R=A>>>13,O=0|o[7],L=8191&O,C=O>>>13,P=0|o[8],N=8191&P,z=P>>>13,I=0|o[9],D=8191&I,H=I>>>13,U=0|a[0],F=8191&U,j=U>>>13,q=0|a[1],$=8191&q,W=q>>>13,V=0|a[2],G=8191&V,K=V>>>13,Z=0|a[3],J=8191&Z,Q=Z>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],it=8191&et,rt=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ht=8191&at,ct=at>>>13,ut=0|a[8],lt=8191&ut,ft=ut>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(c+(r=Math.imul(l,F))|0)+((8191&(n=(n=Math.imul(l,j))+Math.imul(f,F)|0))<<13)|0;c=((s=Math.imul(f,j))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,F),n=(n=Math.imul(p,j))+Math.imul(m,F)|0,s=Math.imul(m,j);var yt=(c+(r=r+Math.imul(l,$)|0)|0)+((8191&(n=(n=n+Math.imul(l,W)|0)+Math.imul(f,$)|0))<<13)|0;c=((s=s+Math.imul(f,W)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,F),n=(n=Math.imul(y,j))+Math.imul(b,F)|0,s=Math.imul(b,j),r=r+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,W)|0;var bt=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(n=(n=n+Math.imul(l,K)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(v,F),n=(n=Math.imul(v,j))+Math.imul(M,F)|0,s=Math.imul(M,j),r=r+Math.imul(y,$)|0,n=(n=n+Math.imul(y,W)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,W)|0,r=r+Math.imul(p,G)|0,n=(n=n+Math.imul(p,K)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,K)|0;var wt=(c+(r=r+Math.imul(l,J)|0)|0)+((8191&(n=(n=n+Math.imul(l,Q)|0)+Math.imul(f,J)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(k,F),n=(n=Math.imul(k,j))+Math.imul(x,F)|0,s=Math.imul(x,j),r=r+Math.imul(v,$)|0,n=(n=n+Math.imul(v,W)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,W)|0,r=r+Math.imul(y,G)|0,n=(n=n+Math.imul(y,K)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,K)|0,r=r+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,Q)|0;var vt=(c+(r=r+Math.imul(l,X)|0)|0)+((8191&(n=(n=n+Math.imul(l,tt)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(B,F),n=(n=Math.imul(B,j))+Math.imul(_,F)|0,s=Math.imul(_,j),r=r+Math.imul(k,$)|0,n=(n=n+Math.imul(k,W)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,W)|0,r=r+Math.imul(v,G)|0,n=(n=n+Math.imul(v,K)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,K)|0,r=r+Math.imul(y,J)|0,n=(n=n+Math.imul(y,Q)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,Q)|0,r=r+Math.imul(p,X)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var Mt=(c+(r=r+Math.imul(l,it)|0)|0)+((8191&(n=(n=n+Math.imul(l,rt)|0)+Math.imul(f,it)|0))<<13)|0;c=((s=s+Math.imul(f,rt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(T,F),n=(n=Math.imul(T,j))+Math.imul(R,F)|0,s=Math.imul(R,j),r=r+Math.imul(B,$)|0,n=(n=n+Math.imul(B,W)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,W)|0,r=r+Math.imul(k,G)|0,n=(n=n+Math.imul(k,K)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,K)|0,r=r+Math.imul(v,J)|0,n=(n=n+Math.imul(v,Q)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,Q)|0,r=r+Math.imul(y,X)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,tt)|0,r=r+Math.imul(p,it)|0,n=(n=n+Math.imul(p,rt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,rt)|0;var St=(c+(r=r+Math.imul(l,st)|0)|0)+((8191&(n=(n=n+Math.imul(l,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(L,F),n=(n=Math.imul(L,j))+Math.imul(C,F)|0,s=Math.imul(C,j),r=r+Math.imul(T,$)|0,n=(n=n+Math.imul(T,W)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,W)|0,r=r+Math.imul(B,G)|0,n=(n=n+Math.imul(B,K)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,K)|0,r=r+Math.imul(k,J)|0,n=(n=n+Math.imul(k,Q)|0)+Math.imul(x,J)|0,s=s+Math.imul(x,Q)|0,r=r+Math.imul(v,X)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,r=r+Math.imul(y,it)|0,n=(n=n+Math.imul(y,rt)|0)+Math.imul(b,it)|0,s=s+Math.imul(b,rt)|0,r=r+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(c+(r=r+Math.imul(l,ht)|0)|0)+((8191&(n=(n=n+Math.imul(l,ct)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(N,F),n=(n=Math.imul(N,j))+Math.imul(z,F)|0,s=Math.imul(z,j),r=r+Math.imul(L,$)|0,n=(n=n+Math.imul(L,W)|0)+Math.imul(C,$)|0,s=s+Math.imul(C,W)|0,r=r+Math.imul(T,G)|0,n=(n=n+Math.imul(T,K)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,K)|0,r=r+Math.imul(B,J)|0,n=(n=n+Math.imul(B,Q)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,Q)|0,r=r+Math.imul(k,X)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,r=r+Math.imul(v,it)|0,n=(n=n+Math.imul(v,rt)|0)+Math.imul(M,it)|0,s=s+Math.imul(M,rt)|0,r=r+Math.imul(y,st)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,r=r+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ct)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(r=r+Math.imul(l,lt)|0)|0)+((8191&(n=(n=n+Math.imul(l,ft)|0)+Math.imul(f,lt)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(D,F),n=(n=Math.imul(D,j))+Math.imul(H,F)|0,s=Math.imul(H,j),r=r+Math.imul(N,$)|0,n=(n=n+Math.imul(N,W)|0)+Math.imul(z,$)|0,s=s+Math.imul(z,W)|0,r=r+Math.imul(L,G)|0,n=(n=n+Math.imul(L,K)|0)+Math.imul(C,G)|0,s=s+Math.imul(C,K)|0,r=r+Math.imul(T,J)|0,n=(n=n+Math.imul(T,Q)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,Q)|0,r=r+Math.imul(B,X)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(k,it)|0,n=(n=n+Math.imul(k,rt)|0)+Math.imul(x,it)|0,s=s+Math.imul(x,rt)|0,r=r+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,r=r+Math.imul(y,ht)|0,n=(n=n+Math.imul(y,ct)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,ct)|0,r=r+Math.imul(p,lt)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(m,lt)|0,s=s+Math.imul(m,ft)|0;var Et=(c+(r=r+Math.imul(l,pt)|0)|0)+((8191&(n=(n=n+Math.imul(l,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(D,$),n=(n=Math.imul(D,W))+Math.imul(H,$)|0,s=Math.imul(H,W),r=r+Math.imul(N,G)|0,n=(n=n+Math.imul(N,K)|0)+Math.imul(z,G)|0,s=s+Math.imul(z,K)|0,r=r+Math.imul(L,J)|0,n=(n=n+Math.imul(L,Q)|0)+Math.imul(C,J)|0,s=s+Math.imul(C,Q)|0,r=r+Math.imul(T,X)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,r=r+Math.imul(B,it)|0,n=(n=n+Math.imul(B,rt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,rt)|0,r=r+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,r=r+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,ct)|0,r=r+Math.imul(y,lt)|0,n=(n=n+Math.imul(y,ft)|0)+Math.imul(b,lt)|0,s=s+Math.imul(b,ft)|0;var Bt=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(D,G),n=(n=Math.imul(D,K))+Math.imul(H,G)|0,s=Math.imul(H,K),r=r+Math.imul(N,J)|0,n=(n=n+Math.imul(N,Q)|0)+Math.imul(z,J)|0,s=s+Math.imul(z,Q)|0,r=r+Math.imul(L,X)|0,n=(n=n+Math.imul(L,tt)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,tt)|0,r=r+Math.imul(T,it)|0,n=(n=n+Math.imul(T,rt)|0)+Math.imul(R,it)|0,s=s+Math.imul(R,rt)|0,r=r+Math.imul(B,st)|0,n=(n=n+Math.imul(B,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,r=r+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ct)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ct)|0,r=r+Math.imul(v,lt)|0,n=(n=n+Math.imul(v,ft)|0)+Math.imul(M,lt)|0,s=s+Math.imul(M,ft)|0;var _t=(c+(r=r+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;c=((s=s+Math.imul(b,mt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(D,J),n=(n=Math.imul(D,Q))+Math.imul(H,J)|0,s=Math.imul(H,Q),r=r+Math.imul(N,X)|0,n=(n=n+Math.imul(N,tt)|0)+Math.imul(z,X)|0,s=s+Math.imul(z,tt)|0,r=r+Math.imul(L,it)|0,n=(n=n+Math.imul(L,rt)|0)+Math.imul(C,it)|0,s=s+Math.imul(C,rt)|0,r=r+Math.imul(T,st)|0,n=(n=n+Math.imul(T,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,r=r+Math.imul(B,ht)|0,n=(n=n+Math.imul(B,ct)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ct)|0,r=r+Math.imul(k,lt)|0,n=(n=n+Math.imul(k,ft)|0)+Math.imul(x,lt)|0,s=s+Math.imul(x,ft)|0;var At=(c+(r=r+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,mt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(D,X),n=(n=Math.imul(D,tt))+Math.imul(H,X)|0,s=Math.imul(H,tt),r=r+Math.imul(N,it)|0,n=(n=n+Math.imul(N,rt)|0)+Math.imul(z,it)|0,s=s+Math.imul(z,rt)|0,r=r+Math.imul(L,st)|0,n=(n=n+Math.imul(L,ot)|0)+Math.imul(C,st)|0,s=s+Math.imul(C,ot)|0,r=r+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ct)|0,r=r+Math.imul(B,lt)|0,n=(n=n+Math.imul(B,ft)|0)+Math.imul(_,lt)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(r=r+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(D,it),n=(n=Math.imul(D,rt))+Math.imul(H,it)|0,s=Math.imul(H,rt),r=r+Math.imul(N,st)|0,n=(n=n+Math.imul(N,ot)|0)+Math.imul(z,st)|0,s=s+Math.imul(z,ot)|0,r=r+Math.imul(L,ht)|0,n=(n=n+Math.imul(L,ct)|0)+Math.imul(C,ht)|0,s=s+Math.imul(C,ct)|0,r=r+Math.imul(T,lt)|0,n=(n=n+Math.imul(T,ft)|0)+Math.imul(R,lt)|0,s=s+Math.imul(R,ft)|0;var Rt=(c+(r=r+Math.imul(B,pt)|0)|0)+((8191&(n=(n=n+Math.imul(B,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(D,st),n=(n=Math.imul(D,ot))+Math.imul(H,st)|0,s=Math.imul(H,ot),r=r+Math.imul(N,ht)|0,n=(n=n+Math.imul(N,ct)|0)+Math.imul(z,ht)|0,s=s+Math.imul(z,ct)|0,r=r+Math.imul(L,lt)|0,n=(n=n+Math.imul(L,ft)|0)+Math.imul(C,lt)|0,s=s+Math.imul(C,ft)|0;var Ot=(c+(r=r+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,mt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(D,ht),n=(n=Math.imul(D,ct))+Math.imul(H,ht)|0,s=Math.imul(H,ct),r=r+Math.imul(N,lt)|0,n=(n=n+Math.imul(N,ft)|0)+Math.imul(z,lt)|0,s=s+Math.imul(z,ft)|0;var Lt=(c+(r=r+Math.imul(L,pt)|0)|0)+((8191&(n=(n=n+Math.imul(L,mt)|0)+Math.imul(C,pt)|0))<<13)|0;c=((s=s+Math.imul(C,mt)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(D,lt),n=(n=Math.imul(D,ft))+Math.imul(H,lt)|0,s=Math.imul(H,ft);var Ct=(c+(r=r+Math.imul(N,pt)|0)|0)+((8191&(n=(n=n+Math.imul(N,mt)|0)+Math.imul(z,pt)|0))<<13)|0;c=((s=s+Math.imul(z,mt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Pt=(c+(r=Math.imul(D,pt))|0)+((8191&(n=(n=Math.imul(D,mt))+Math.imul(H,pt)|0))<<13)|0;return c=((s=Math.imul(H,mt))+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,h[0]=gt,h[1]=yt,h[2]=bt,h[3]=wt,h[4]=vt,h[5]=Mt,h[6]=St,h[7]=kt,h[8]=xt,h[9]=Et,h[10]=Bt,h[11]=_t,h[12]=At,h[13]=Tt,h[14]=Rt,h[15]=Ot,h[16]=Lt,h[17]=Ct,h[18]=Pt,0!==c&&(h[19]=c,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var i,r=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var r=0,n=0,s=0;s<i.length-1;s++){var o=n;n=0;for(var a=67108863&r,h=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=h;c++){var u=s-c,l=(0|t.words[u])*(0|e.words[c]),f=67108863&l;a=67108863&(f=f+a|0),n+=(o=(o=o+(l/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}i.words[s]=a,r=o,o=n}return 0!==r?i.words[s]=r:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var r=0,n=0;n<e;n++)r|=(1&t)<<e-n-1,t>>=1;return r},g.prototype.permute=function(t,e,i,r,n,s){for(var o=0;o<s;o++)r[o]=e[t[o]],n[o]=i[t[o]]},g.prototype.transform=function(t,e,i,r,n,s){this.permute(s,t,e,i,r,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var l=h,f=c,d=0;d<o;d++){var p=i[u+d],m=r[u+d],g=i[u+d+o],y=r[u+d+o],b=l*g-f*y;y=l*y+f*g,g=b,i[u+d]=p+g,r[u+d]=m+y,i[u+d+o]=p-g,r[u+d+o]=m-y,d!==a&&(b=h*l-c*f,f=h*f+c*l,l=b)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=t[r];t[r]=t[i-r-1],t[i-r-1]=n,n=e[r],e[r]=-e[i-r-1],e[i-r-1]=-n}},g.prototype.normalize13b=function(t,e){for(var i=0,r=0;r<e/2;r++){var n=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+i;t[r]=67108863&n,i=n<67108864?0:n/67108864|0}return t},g.prototype.convert13b=function(t,e,i,n){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<n;++o)i[o]=0;r(0===s),r(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var r=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),h=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=i.words;f.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,c,r),this.transform(o,s,a,h,r,n),this.transform(c,s,u,l,r,n);for(var d=0;d<r;d++){var p=a[d]*u[d]-h[d]*l[d];h[d]=a[d]*l[d]+h[d]*u[d],a[d]=p}return this.conjugate(a,h,r),this.transform(a,h,f,s,r,n),this.conjugate(f,s,r),this.normalize13b(f,r),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,s=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=s>>>26,this.words[i]=67108863&s}return 0!==e&&(this.words[i]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var r=i/26|0,n=i%26;e[i]=(t.words[r]&1<<n)>>>n}return e}(t);if(0===e.length)return new s(1);for(var i=this,r=0;r<e.length&&0===e[r];r++,i=i.sqr());if(++r<e.length)for(var n=i.sqr();r<e.length;r++,n=n.sqr())0!==e[r]&&(i=i.mul(n));return i},s.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(n-=o,n=Math.max(0,n),h){for(var c=0;c<o;c++)h.words[c]=this.words[c];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=n);c--){var l=0|this.words[c];this.words[c]=u<<26-s|l>>>s,u=l&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i||!(this.words[i]&n))},s.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var n,s,o=t.length+i;this._expand(o);var a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&s}for(;n<this.length-i;n++)a=(s=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),r=this.clone(),n=t,o=0|n.words[n.length-1];0!=(i=26-this._countBits(o))&&(n=n.ushln(i),r.iushln(i),o=0|n.words[n.length-1]);var a,h=r.length-n.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var u=r.clone()._ishlnsubmul(n,1,h);0===u.negative&&(r=u,a&&(a.words[h]=1));for(var l=h-1;l>=0;l--){var f=67108864*(0|r.words[n.length+l])+(0|r.words[n.length+l-1]);for(f=Math.min(f/o|0,67108863),r._ishlnsubmul(n,f,l);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(n,1,l),r.isZero()||(r.negative^=1);a&&(a.words[l]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==i&&r.iushrn(i),{div:a||null,mod:r}},s.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:n,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var n,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),n=t.andln(1),s=i.cmp(r);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},s.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new s(1),o=new s(0),a=new s(0),h=new s(1),c=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++c;for(var u=i.clone(),l=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(l)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(l)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(a),o.isub(h)):(i.isub(e),a.isub(n),h.isub(o))}return{a,b:h,gcd:i.iushln(c)}},s.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,u=1;0==(e.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var l=0,f=1;0==(i.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(i.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(n=0===e.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(t),n},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var r=0;e.isEven()&&i.isEven();r++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=e.cmp(i);if(n<0){var s=e;e=i,i=s}else if(0===n||0===i.cmpn(1))break;e.isub(i)}return i.iushln(r)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var s=n,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|t.words[i];if(r!==n){r<n?e=-1:r>n&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var i=4194303,r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(v,b),n(M,b),n(S,b),S.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return y[t]=e,e},k.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},k.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);r(!n.isZero());var a=new s(1).toRed(this),h=a.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,c).cmp(h);)u.redIAdd(h);for(var l=this.pow(u,n),f=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));f=f.redMul(y),l=y.redSqr(),d=d.redMul(l),p=g}return f},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],t);var n=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],u=h-1;u>=0;u--){var l=c>>u&1;n!==i[0]&&(n=this.sqr(n)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===r&&0===u)&&(n=this.mul(n,i[o]),a=0,o=0)):a=0}h=26}return n},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},n(x,k),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=i.nmd(t),this)},82745:(t,e,i)=>{var r;function n(t){this.rand=t}if(t.exports=function(t){return r||(r=new n(null)),r.generate(t)},t.exports.Rand=n,n.prototype.generate=function(t){return this._rand(t)},n.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),i=0;i<e.length;i++)e[i]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=i(38087);if("function"!=typeof s.randomBytes)throw new Error("Not supported");n.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}},48834:(t,e,i)=>{"use strict";const r=i(95766),n=i(62333),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=h,e.SlowBuffer=function(t){return+t!=t&&(t=0),h.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,h.prototype),e}function h(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,i)}function c(t,e,i){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const i=0|m(t,e);let r=a(i);const n=r.write(t,e);return n!==i&&(r=r.slice(0,n)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return d(t,e,i);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return d(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return h.from(r,e,i);const n=function(t){if(h.isBuffer(t)){const e=0|p(t.length),i=a(e);return 0===i.length||t.copy(i,0,0,e),i}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return u(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),i=a(e);for(let r=0;r<e;r+=1)i[r]=255&t[r];return i}function d(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(r,h.prototype),r}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(t).length;default:if(n)return r?-1:V(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return B(this,e,i);case"ascii":return A(this,e,i);case"latin1":case"binary":return T(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,i){const r=t[e];t[e]=t[i],t[i]=r}function b(t,e,i,r,n){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),J(i=+i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:w(t,e,i,r,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}function w(t,e,i,r,n){let s,o=1,a=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){let r=-1;for(s=i;s<a;s++)if(c(t,s)===c(e,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===h)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(i+h>a&&(i=a-h),s=i;s>=0;s--){let i=!0;for(let r=0;r<h;r++)if(c(t,s+r)!==c(e,r)){i=!1;break}if(i)return s}return-1}function v(t,e,i,r){i=Number(i)||0;const n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;const s=e.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(e.substr(2*o,2),16);if(J(r))return o;t[i+o]=r}return o}function M(t,e,i,r){return K(V(e,t.length-i),t,i,r)}function S(t,e,i,r){return K(function(t){const e=[];for(let i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function k(t,e,i,r){return K(G(e),t,i,r)}function x(t,e,i,r){return K(function(t,e){let i,r,n;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),r=i>>8,n=i%256,s.push(n),s.push(r);return s}(e,t.length-i),t,i,r)}function E(t,e,i){return 0===e&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,i))}function B(t,e,i){i=Math.min(t.length,i);const r=[];let n=e;for(;n<i;){const e=t[n];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(n+o<=i){let i,r,a,h;switch(o){case 1:e<128&&(s=e);break;case 2:i=t[n+1],128==(192&i)&&(h=(31&e)<<6|63&i,h>127&&(s=h));break;case 3:i=t[n+1],r=t[n+2],128==(192&i)&&128==(192&r)&&(h=(15&e)<<12|(63&i)<<6|63&r,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:i=t[n+1],r=t[n+2],a=t[n+3],128==(192&i)&&128==(192&r)&&128==(192&a)&&(h=(15&e)<<18|(63&i)<<12|(63&r)<<6|63&a,h>65535&&h<1114112&&(s=h))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),n+=o}return function(t){const e=t.length;if(e<=_)return String.fromCharCode.apply(String,t);let i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=_));return i}(r)}e.kMaxLength=o,h.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,e,i){return c(t,e,i)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(t,e,i){return function(t,e,i){return u(t),t<=0?a(t):void 0!==e?"string"==typeof i?a(t).fill(e,i):a(t).fill(e):a(t)}(t,e,i)},h.allocUnsafe=function(t){return l(t)},h.allocUnsafeSlow=function(t){return l(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(Z(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let i=t.length,r=e.length;for(let n=0,s=Math.min(i,r);n<s;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:r<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);let i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;const r=h.allocUnsafe(e);let n=0;for(i=0;i<t.length;++i){let e=t[i];if(Z(e,Uint8Array))n+e.length>r.length?(h.isBuffer(e)||(e=h.from(e)),e.copy(r,n)):Uint8Array.prototype.set.call(r,e,n);else{if(!h.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,n)}n+=e.length}return r},h.byteLength=m,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},h.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},h.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},h.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){let t="";const i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},s&&(h.prototype[s]=h.prototype.inspect),h.prototype.compare=function(t,e,i,r,n){if(Z(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&e>=i)return 0;if(r>=n)return-1;if(e>=i)return 1;if(this===t)return 0;let s=(n>>>=0)-(r>>>=0),o=(i>>>=0)-(e>>>=0);const a=Math.min(s,o),c=this.slice(r,n),u=t.slice(e,i);for(let t=0;t<a;++t)if(c[t]!==u[t]){s=c[t],o=u[t];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return b(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return b(this,t,e,i,!1)},h.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}const n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return v(this,t,e,i);case"utf8":case"utf-8":return M(this,t,e,i);case"ascii":case"latin1":case"binary":return S(this,t,e,i);case"base64":return k(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function A(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function T(t,e,i){let r="";i=Math.min(t.length,i);for(let n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function R(t,e,i){const r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);let n="";for(let r=e;r<i;++r)n+=Q[t[r]];return n}function O(t,e,i){const r=t.slice(e,i);let n="";for(let t=0;t<r.length-1;t+=2)n+=String.fromCharCode(r[t]+256*r[t+1]);return n}function L(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,i,r,n,s){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function P(t,e,i,r,n){j(e,r,n,t,i,7);let s=Number(e&BigInt(4294967295));t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o,o>>=8,t[i++]=o,i}function N(t,e,i,r,n){j(e,r,n,t,i,7);let s=Number(e&BigInt(4294967295));t[i+7]=s,s>>=8,t[i+6]=s,s>>=8,t[i+5]=s,s>>=8,t[i+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[i+3]=o,o>>=8,t[i+2]=o,o>>=8,t[i+1]=o,o>>=8,t[i]=o,i+8}function z(t,e,i,r,n,s){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function I(t,e,i,r,s){return e=+e,i>>>=0,s||z(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function D(t,e,i,r,s){return e=+e,i>>>=0,s||z(t,0,i,8),n.write(t,e,i,r,52,8),i+8}h.prototype.slice=function(t,e){const i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||L(t,e,this.length);let r=this[t],n=1,s=0;for(;++s<e&&(n*=256);)r+=this[t+s]*n;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||L(t,e,this.length);let r=this[t+--e],n=1;for(;e>0&&(n*=256);)r+=this[t+--e]*n;return r},h.prototype.readUint8=h.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||$(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,n=this[++t]+256*this[++t]+65536*this[++t]+i*2**24;return BigInt(r)+(BigInt(n)<<BigInt(32))})),h.prototype.readBigUInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||$(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],n=this[++t]*2**24+65536*this[++t]+256*this[++t]+i;return(BigInt(r)<<BigInt(32))+BigInt(n)})),h.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||L(t,e,this.length);let r=this[t],n=1,s=0;for(;++s<e&&(n*=256);)r+=this[t+s]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||L(t,e,this.length);let r=e,n=1,s=this[t+--r];for(;r>0&&(n*=256);)s+=this[t+--r]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*e)),s},h.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);const i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);const i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||$(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),h.prototype.readBigInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],i=this[t+7];void 0!==e&&void 0!==i||$(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+i)})),h.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),n.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),n.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),n.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),n.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||C(this,t,e,i,Math.pow(2,8*i)-1,0);let n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,e,i,r){t=+t,e>>>=0,i>>>=0,r||C(this,t,e,i,Math.pow(2,8*i)-1,0);let n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigUInt64LE=Y((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=Y((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*i-1);C(this,t,e,i,r-1,-r)}let n=0,s=1,o=0;for(this[e]=255&t;++n<i&&(s*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+i},h.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*i-1);C(this,t,e,i,r-1,-r)}let n=i-1,s=1,o=0;for(this[e+n]=255&t;--n>=0&&(s*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/s>>0)-o&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigInt64LE=Y((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=Y((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(t,e,i){return I(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return I(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return D(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return D(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,r){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);const n=r-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,r):Uint8Array.prototype.set.call(t,this.subarray(i,r),e),n},h.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;let n;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{const s=h.isBuffer(t)?t:h.from(t,r),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<i-e;++n)this[n+e]=s[n%o]}return this};const H={};function U(t,e,i){H[t]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",i=t.length;const r="-"===t[0]?1:0;for(;i>=r+4;i-=3)e=`_${t.slice(i-3,i)}${e}`;return`${t.slice(0,i)}${e}`}function j(t,e,i,r,n,s){if(t>i||t<e){const r="bigint"==typeof e?"n":"";let n;throw n=s>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${e}${r} and <= ${i}${r}`,new H.ERR_OUT_OF_RANGE("value",n,t)}!function(t,e,i){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+i]||$(e,t.length-(i+1))}(r,n,s)}function q(t,e){if("number"!=typeof t)throw new H.ERR_INVALID_ARG_TYPE(e,"number",t)}function $(t,e,i){if(Math.floor(t)!==t)throw q(t,i),new H.ERR_OUT_OF_RANGE(i||"offset","an integer",t);if(e<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(t,e,i){let r=`The value of "${t}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>2**32?n=F(String(i)):"bigint"==typeof i&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=F(n)),n+="n"),r+=` It must be ${e}. Received ${n}`,r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function V(t,e){let i;e=e||1/0;const r=t.length;let n=null;const s=[];for(let o=0;o<r;++o){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,i,r){let n;for(n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const Q=function(){const t="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){const r=16*i;for(let n=0;n<16;++n)e[r+n]=t[i]+t[n]}return e}();function Y(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},5111:(t,e,i)=>{"use strict";i.d(e,{FY:()=>Bi,po:()=>W});var r={};i.r(r),i.d(r,{chainHead_v1_body:()=>we,chainHead_v1_call:()=>me,chainHead_v1_continue:()=>ve,chainHead_v1_follow:()=>ue,chainHead_v1_header:()=>fe,chainHead_v1_stopOperation:()=>Me,chainHead_v1_storage:()=>ye,chainHead_v1_unfollow:()=>le,chainHead_v1_unpin:()=>Se});var n={};i.r(n),i.d(n,{chainSpec_v1_chainName:()=>ke,chainSpec_v1_genesisHash:()=>xe,chainSpec_v1_properties:()=>Ee});var s={};i.r(s),i.d(s,{transaction_v1_broadcast:()=>_e,transaction_v1_stop:()=>Ae});var o={};i.r(o),i.d(o,{author_pendingExtrinsics:()=>Pe,author_submitAndWatchExtrinsic:()=>Le,author_submitExtrinsic:()=>Oe,author_unwatchExtrinsic:()=>Ce});var a={};i.r(a),i.d(a,{archive_unstable_hashByHeight:()=>We,chain_getBlock:()=>Ue,chain_getBlockHash:()=>De,chain_getFinalizedHead:()=>Fe,chain_getHead:()=>Ve,chain_getHeader:()=>He,chain_subscribeFinalizedHeads:()=>qe,chain_subscribeNewHead:()=>je,chain_subscribeNewHeads:()=>Ge,chain_unsubscribeFinalizedHeads:()=>Ze,chain_unsubscribeNewHead:()=>$e,chain_unsubscribeNewHeads:()=>Ke});var h={};i.r(h),i.d(h,{payment_queryFeeDetails:()=>Je,payment_queryInfo:()=>Qe});var c={};i.r(c),i.d(c,{childstate_getKeysPaged:()=>ui,childstate_getStorage:()=>ci,state_call:()=>ni,state_getKeysPaged:()=>ii,state_getMetadata:()=>ti,state_getRuntimeVersion:()=>Xe,state_getStorage:()=>ei,state_getStorageAt:()=>li,state_queryStorageAt:()=>ri,state_subscribeRuntimeVersion:()=>si,state_subscribeStorage:()=>ai,state_unsubscribeRuntimeVersion:()=>oi,state_unsubscribeStorage:()=>hi});var u={};i.r(u),i.d(u,{system_accountNextIndex:()=>Si,system_chain:()=>mi,system_chainType:()=>wi,system_dryRun:()=>Mi,system_health:()=>vi,system_localListenAddresses:()=>pi,system_localPeerId:()=>fi,system_name:()=>yi,system_nodeRoles:()=>di,system_properties:()=>gi,system_version:()=>bi});var l=i(76635),f=i(55858),d=i(84789),p=i(90758),m=i(94158),g=i(16737),y=i(48533),b=i(52926),w=i(69413),v=i(30195),M=i(34406);const S=v.Ry({DISABLE_AUTO_HRMP:v.Km(["true","false"]).default("false").transform((t=>"true"===t)),PORT:v.Z_().optional(),DISABLE_PLUGINS:v.Km(["true","false"]).default("false").transform((t=>"true"===t)),HTTP_PROXY:v.Z_().optional(),http_proxy:v.Z_().optional(),HTTPS_PROXY:v.Z_().optional(),https_proxy:v.Z_().optional(),LOG_LEVEL:v.Km(["fatal","error","warn","info","debug","trace"]).default("info"),VERBOSE_LOG:v.Km(["true","false"]).default("false").transform((t=>"true"===t)),LOG_COMPACT:v.Km(["true","false"]).default("false").transform((t=>"true"===t))}).parse("object"==typeof M?{NODE_ENV:"production",WS_URL:void 0}:{}),k=(0,w.pino)({level:S.LOG_LEVEL,transport:{target:"pino-pretty",options:{ignore:"pid,hostname",hideObject:S.LOG_COMPACT}}}).child({app:"chopsticks"}),x=(t=0)=>e=>{const i=S.VERBOSE_LOG;if(null==e)return e;if(t>(i?10:5))return"( Too Deep )";switch(typeof e){case"string":return e.length>66&&!i?e.slice(0,34)+"…"+e.slice(-32):e;case"object":return Array.isArray(e)?e.map(x(t+1)):Object.fromEntries(Object.entries(e.toJSON?e.toJSON():e).map((([e,i])=>[e,x(t+1)(i)])));default:return e}},E=t=>x(0)(t);var B=i(34406);const _=k.child({name:"executor"});let A;const T=async()=>A||(void 0!==B&&B?.versions?.node,A=i.e(2222).then(i.bind(i,72222)).then((({startWorker:t})=>t())),A),R=l.memoize((async t=>(await T()).remote.getRuntimeVersion(t).then((t=>(t.specName=(0,m.r)(t.specName),t.implName=(0,m.r)(t.implName),t))))),O=async(t,e)=>{const i=await T(),[r,n]=await i.remote.createProof(t,e);return{trieRootHash:r,nodes:n}},L=async(t,e=C)=>{const i={...t,storageProofSize:t.storageProofSize??0},r=await T();_.trace(E(i),"taskRun");const n=await r.remote.runTask(i,p.sj(e));return"Call"in n?_.trace(E(n.Call),"taskResponse"):_.trace({response:n},"taskResponse"),n},C={getStorage:async function(t){throw new Error("Method not implemented")},getNextKey:async function(t,e){throw new Error("Method not implemented")},offchainGetStorage:async function(t){throw new Error("Method not implemented")},offchainTimestamp:async function(){throw new Error("Method not implemented")},offchainRandomSeed:async function(){throw new Error("Method not implemented")},offchainSubmitTransaction:async function(t){throw new Error("Method not implemented")}},P=l.memoize((async t=>{const e=await L({wasm:t,calls:[["AuraApi_slot_duration",[]]],mockSignatureHost:!1,allowUnresolvedImports:!1,runtimeLogLevel:0});if("Error"in e)throw new Error(e.Error);return(0,g._)((0,y.G)(e.Call.result).subarray(0,8)).toNumber()}));var N=i(41204),z=i(50145),I=i(12782),D=i(69543);class H{prefixLength;constructor(t){this.prefixLength=t,this.ranges=[]}ranges;feed(t){const e=t.filter((t=>t.length>=this.prefixLength));if(0===e.length)return;const i=e[0].slice(this.prefixLength),r=e[e.length-1].slice(this.prefixLength),n=l.groupBy(e,(t=>t.slice(0,this.prefixLength)));for(const[t,e]of Object.entries(n)){const n=this.ranges.filter((e=>e.prefix===t));if(0===n.length){this.ranges.push({prefix:t,keys:e.map((t=>t.slice(this.prefixLength)))});continue}let s=!1;for(const t of n){const n=l.sortedIndex(t.keys,i);if(n>=0&&t.keys[n]===i){t.keys.splice(n,e.length,...e.map((t=>t.slice(this.prefixLength)))),s=!0;break}const o=l.sortedIndex(t.keys,r);if(o>=0&&t.keys[o]===r){t.keys.splice(0,o+1,...e.map((t=>t.slice(this.prefixLength)))),s=!0;break}}s||this.ranges.push({prefix:t,keys:e.map((t=>t.slice(this.prefixLength)))})}}async next(t){if(t.length<this.prefixLength)return;const e=t.slice(0,this.prefixLength),i=t.slice(this.prefixLength);for(const t of this.ranges.filter((t=>t.prefix===e))){if(0===i.length){if(""!==t.keys[0])continue;return[e,t.keys[1]].join("")}const r=l.sortedIndex(t.keys,i);if(t.keys[r]!==i)continue;const n=t.keys[r+1];if(n)return[e,n].join("")}}}const U=k.child({name:"layer"}),F=1e3;var j=function(t){return t.Deleted="Deleted",t.DeletedPrefix="DeletedPrefix",t}({});class q{#t;#e;#i;#r=new H(ut);#n=new H(ct);constructor(t,e,i){this.#t=t,this.#e=e,this.#i=i}async get(t,e){if(this.#i){const e=await this.#i.queryStorage(this.#e,t);if(e)return e.value??void 0}U.trace({at:this.#e,key:t},"RemoteStorageLayer get");const i=await this.#t.getStorage(t,this.#e);return this.#i?.saveStorage(this.#e,t,i),i??void 0}async findNextKey(t,e,i){return(await this.getKeysPaged(t,1,e))[0]}async getKeysPaged(t,e,i){if(e>F)throw new Error("pageSize must be less or equal to 1000");U.trace({at:this.#e,prefix:t,pageSize:e,startKey:i},"RemoteStorageLayer getKeysPaged");const r=ft(t),n=r?ct:ut;if(t===i||t.length<n||i.length<n)return this.#t.getKeysPaged(t,e,i,this.#e);let s=!1;const o=[];for(;o.length<e;){const e=r?await this.#n.next(i):await this.#r.next(i);if(e){o.push(e),i=e;continue}if(s)break;const n=await this.#t.getKeysPaged(t,F,i,this.#e);if(s=n.length<F,n.length>0&&(r?this.#n.feed([i,...n]):this.#r.feed([i,...n])),0===n.length)break;this.#i&&this.#t.getStorageBatch(t,n,this.#e).then((t=>{for(const[e,i]of t)this.#i.saveStorage(this.#e,e,i)}))}return o}}class ${#s=new Map;#o=[];#a=[];#h;constructor(t){this.#h=t}#c(t){const e=l.sortedIndex(this.#o,t);t!==this.#o[e]&&this.#o.splice(e,0,t)}#u(t){const e=l.sortedIndex(this.#o,t);t===this.#o[e]&&this.#o.splice(e,1)}async get(t,e){if(this.#s.has(t))return this.#s.get(t);if(this.#a.some((e=>t.startsWith(e))))return"Deleted";if(this.#h){const i=this.#h.get(t,!1);return e&&this.#s.set(t,i),i}}set(t,e){switch(e){case"Deleted":this.#s.set(t,"Deleted"),this.#u(t);break;case"DeletedPrefix":this.#a.push(t);for(const e of this.#o)e.startsWith(t)&&(this.#s.set(e,"Deleted"),this.#u(e));break;case void 0:this.#s.delete(t),this.#u(t);break;default:this.#s.set(t,e),this.#c(t)}}setAll(t){Array.isArray(t)||(t=Object.entries(t));for(const[e,i]of t)this.set(e,i||"Deleted")}async findNextKey(t,e,i){const r=this.#o.find((i=>i.startsWith(t)&&i>e));if(i?r&&r<i&&(i=r):i=r,this.#h&&!this.#a.some((e=>e===t))){const n=await this.#h.findNextKey(t,e,i);if(n){if(!r)return n;if(n<r)return n}}return i}async getKeysPaged(t,e,i){i&&"0x"!==i||(i=t);const r=[];for(;r.length<e;){const e=await this.findNextKey(t,i,void 0);if(!e)break;i=e,"Deleted"!=await this.get(e,!1)&&r.push(e)}return r}async mergeInto(t){for(const[e,i]of this.#s){const r=await i;t[e]="Deleted"===r?null:r}}}const W=async(t,e,i)=>{const r=await t.getBlock(i);if(!r)throw Error(`Cannot find block ${i||"latest"}`);let n;return n=Array.isArray(e)?e:function(t,e){const i=[];for(const r in e){const n=e[r],s=t.query[(0,D.yZ)(r)];if(!s)throw Error(`Cannot find pallet ${r}`);for(const e in n){const o=n[e];if("$removePrefix"===e){for(const t of o){const e=s[(0,D.yZ)(t)];if(!e)throw Error(`Cannot find storage ${t} in pallet ${r}`);const n=e.keyPrefix();i.push([(0,f.c)(n),j.DeletedPrefix])}continue}const a=s[(0,D.yZ)(e)];if(!a)throw Error(`Cannot find storage ${e} in pallet ${r}`);if(a.meta.type.isPlain){const e=new I.Q(t.registry,[a]);"string"==typeof o&&o.startsWith("0x")?i.push([e.toHex(),o]):i.push([e.toHex(),o?(0,f.c)(t.registry.createType(e.outputType,o).toU8a()):null])}else for(const[e,r]of o){const n=new I.Q(t.registry,[a,e]);"string"==typeof r&&r.startsWith("0x")?i.push([n.toHex(),r]):i.push([n.toHex(),r?(0,f.c)(t.registry.createType(n.outputType,r).toU8a()):null])}}}return i}(await r.meta,e),r.pushStorageLayer().setAll(n),r.hash};var V=i(34406);const G="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,K=new Set,Z="object"==typeof V&&V?V:{},J=(t,e,i,r)=>{"function"==typeof Z.emitWarning?Z.emitWarning(t,e,i,r):console.error(`[${i}] ${e}: ${t}`)};let Q=globalThis.AbortController,Y=globalThis.AbortSignal;if(void 0===Q){Y=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},Q=class{constructor(){e()}signal=new Y;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==Z.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,J("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");const X=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),tt=t=>X(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?et:null:null;class et extends Array{constructor(t){super(t),this.fill(0)}}class it{heap;length;static#l=!1;static create(t){const e=tt(t);if(!e)return[];it.#l=!0;const i=new it(t,e);return it.#l=!1,i}constructor(t,e){if(!it.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class rt{#f;#d;#p;#m;#g;#y;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#b;#w;#v;#M;#S;#k;#x;#E;#B;#_;#A;#T;#R;#O;#L;#C;#P;static unsafeExposeInternals(t){return{starts:t.#R,ttls:t.#O,sizes:t.#T,keyMap:t.#v,keyList:t.#M,valList:t.#S,next:t.#k,prev:t.#x,get head(){return t.#E},get tail(){return t.#B},free:t.#_,isBackgroundFetch:e=>t.#N(e),backgroundFetch:(e,i,r,n)=>t.#z(e,i,r,n),moveToTail:e=>t.#I(e),indexes:e=>t.#D(e),rindexes:e=>t.#H(e),isStale:e=>t.#U(e)}}get max(){return this.#f}get maxSize(){return this.#d}get calculatedSize(){return this.#w}get size(){return this.#b}get fetchMethod(){return this.#g}get memoMethod(){return this.#y}get dispose(){return this.#p}get disposeAfter(){return this.#m}constructor(t){const{max:e=0,ttl:i,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:h,disposeAfter:c,noDisposeOnSet:u,noUpdateTTL:l,maxSize:f=0,maxEntrySize:d=0,sizeCalculation:p,fetchMethod:m,memoMethod:g,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:v,ignoreFetchAbort:M}=t;if(0!==e&&!X(e))throw new TypeError("max option must be a nonnegative integer");const S=e?tt(e):Array;if(!S)throw new Error("invalid max value: "+e);if(this.#f=e,this.#d=f,this.maxEntrySize=d||this.#d,this.sizeCalculation=p,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("memoMethod must be a function if defined");if(this.#y=g,void 0!==m&&"function"!=typeof m)throw new TypeError("fetchMethod must be a function if specified");if(this.#g=m,this.#C=!!m,this.#v=new Map,this.#M=new Array(e).fill(void 0),this.#S=new Array(e).fill(void 0),this.#k=new S(e),this.#x=new S(e),this.#E=0,this.#B=0,this.#_=it.create(e),this.#b=0,this.#w=0,"function"==typeof h&&(this.#p=h),"function"==typeof c?(this.#m=c,this.#A=[]):(this.#m=void 0,this.#A=void 0),this.#L=!!this.#p,this.#P=!!this.#m,this.noDisposeOnSet=!!u,this.noUpdateTTL=!!l,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!M,0!==this.maxEntrySize){if(0!==this.#d&&!X(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!X(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=X(r)||0===r?r:1,this.ttlAutopurge=!!n,this.ttl=i||0,this.ttl){if(!X(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#j()}if(0===this.#f&&0===this.ttl&&0===this.#d)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#f&&!this.#d){const t="LRU_CACHE_UNBOUNDED";(t=>!K.has(t))(t)&&(K.add(t),J("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,rt))}}getRemainingTTL(t){return this.#v.has(t)?1/0:0}#j(){const t=new et(this.#f),e=new et(this.#f);this.#O=t,this.#R=e,this.#q=(i,r,n=G.now())=>{if(e[i]=0!==r?n:0,t[i]=r,0!==r&&this.ttlAutopurge){const t=setTimeout((()=>{this.#U(i)&&this.#$(this.#M[i],"expire")}),r+1);t.unref&&t.unref()}},this.#W=i=>{e[i]=0!==t[i]?G.now():0},this.#V=(n,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;n.ttl=o,n.start=a,n.now=i||r();const h=n.now-a;n.remainingTTL=o-h}};let i=0;const r=()=>{const t=G.now();if(this.ttlResolution>0){i=t;const e=setTimeout((()=>i=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=n=>{const s=this.#v.get(n);if(void 0===s)return 0;const o=t[s],a=e[s];return o&&a?o-((i||r())-a):1/0},this.#U=n=>{const s=e[n],o=t[n];return!!o&&!!s&&(i||r())-s>o}}#W=()=>{};#V=()=>{};#q=()=>{};#U=()=>!1;#F(){const t=new et(this.#f);this.#w=0,this.#T=t,this.#G=e=>{this.#w-=t[e],t[e]=0},this.#K=(t,e,i,r)=>{if(this.#N(e))return 0;if(!X(i)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(i=r(e,t),!X(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.#Z=(e,i,r)=>{if(t[e]=i,this.#d){const i=this.#d-t[e];for(;this.#w>i;)this.#J(!0)}this.#w+=t[e],r&&(r.entrySize=i,r.totalCalculatedSize=this.#w)}}#G=t=>{};#Z=(t,e,i)=>{};#K=(t,e,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#D({allowStale:t=this.allowStale}={}){if(this.#b)for(let e=this.#B;this.#Q(e)&&(!t&&this.#U(e)||(yield e),e!==this.#E);)e=this.#x[e]}*#H({allowStale:t=this.allowStale}={}){if(this.#b)for(let e=this.#E;this.#Q(e)&&(!t&&this.#U(e)||(yield e),e!==this.#B);)e=this.#k[e]}#Q(t){return void 0!==t&&this.#v.get(this.#M[t])===t}*entries(){for(const t of this.#D())void 0===this.#S[t]||void 0===this.#M[t]||this.#N(this.#S[t])||(yield[this.#M[t],this.#S[t]])}*rentries(){for(const t of this.#H())void 0===this.#S[t]||void 0===this.#M[t]||this.#N(this.#S[t])||(yield[this.#M[t],this.#S[t]])}*keys(){for(const t of this.#D()){const e=this.#M[t];void 0===e||this.#N(this.#S[t])||(yield e)}}*rkeys(){for(const t of this.#H()){const e=this.#M[t];void 0===e||this.#N(this.#S[t])||(yield e)}}*values(){for(const t of this.#D())void 0===this.#S[t]||this.#N(this.#S[t])||(yield this.#S[t])}*rvalues(){for(const t of this.#H())void 0===this.#S[t]||this.#N(this.#S[t])||(yield this.#S[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const i of this.#D()){const r=this.#S[i],n=this.#N(r)?r.__staleWhileFetching:r;if(void 0!==n&&t(n,this.#M[i],this))return this.get(this.#M[i],e)}}forEach(t,e=this){for(const i of this.#D()){const r=this.#S[i],n=this.#N(r)?r.__staleWhileFetching:r;void 0!==n&&t.call(e,n,this.#M[i],this)}}rforEach(t,e=this){for(const i of this.#H()){const r=this.#S[i],n=this.#N(r)?r.__staleWhileFetching:r;void 0!==n&&t.call(e,n,this.#M[i],this)}}purgeStale(){let t=!1;for(const e of this.#H({allowStale:!0}))this.#U(e)&&(this.#$(this.#M[e],"expire"),t=!0);return t}info(t){const e=this.#v.get(t);if(void 0===e)return;const i=this.#S[e],r=this.#N(i)?i.__staleWhileFetching:i;if(void 0===r)return;const n={value:r};if(this.#O&&this.#R){const t=this.#O[e],i=this.#R[e];if(t&&i){const e=t-(G.now()-i);n.ttl=e,n.start=Date.now()}}return this.#T&&(n.size=this.#T[e]),n}dump(){const t=[];for(const e of this.#D({allowStale:!0})){const i=this.#M[e],r=this.#S[e],n=this.#N(r)?r.__staleWhileFetching:r;if(void 0===n||void 0===i)continue;const s={value:n};if(this.#O&&this.#R){s.ttl=this.#O[e];const t=G.now()-this.#R[e];s.start=Math.floor(Date.now()-t)}this.#T&&(s.size=this.#T[e]),t.unshift([i,s])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=G.now()-t}this.set(e,i.value,i)}}set(t,e,i={}){if(void 0===e)return this.delete(t),this;const{ttl:r=this.ttl,start:n,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=i;let{noUpdateTTL:h=this.noUpdateTTL}=i;const c=this.#K(t,e,i.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#$(t,"set"),this;let u=0===this.#b?void 0:this.#v.get(t);if(void 0===u)u=0===this.#b?this.#B:0!==this.#_.length?this.#_.pop():this.#b===this.#f?this.#J(!1):this.#b,this.#M[u]=t,this.#S[u]=e,this.#v.set(t,u),this.#k[this.#B]=u,this.#x[u]=this.#B,this.#B=u,this.#b++,this.#Z(u,c,a),a&&(a.set="add"),h=!1;else{this.#I(u);const i=this.#S[u];if(e!==i){if(this.#C&&this.#N(i)){i.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=i;void 0===e||s||(this.#L&&this.#p?.(e,t,"set"),this.#P&&this.#A?.push([e,t,"set"]))}else s||(this.#L&&this.#p?.(i,t,"set"),this.#P&&this.#A?.push([i,t,"set"]));if(this.#G(u),this.#Z(u,c,a),this.#S[u]=e,a){a.set="replace";const t=i&&this.#N(i)?i.__staleWhileFetching:i;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===r||this.#O||this.#j(),this.#O&&(h||this.#q(u,r,n),a&&this.#V(a,u)),!s&&this.#P&&this.#A){const t=this.#A;let e;for(;e=t?.shift();)this.#m?.(...e)}return this}pop(){try{for(;this.#b;){const t=this.#S[this.#E];if(this.#J(!0),this.#N(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#P&&this.#A){const t=this.#A;let e;for(;e=t?.shift();)this.#m?.(...e)}}}#J(t){const e=this.#E,i=this.#M[e],r=this.#S[e];return this.#C&&this.#N(r)?r.__abortController.abort(new Error("evicted")):(this.#L||this.#P)&&(this.#L&&this.#p?.(r,i,"evict"),this.#P&&this.#A?.push([r,i,"evict"])),this.#G(e),t&&(this.#M[e]=void 0,this.#S[e]=void 0,this.#_.push(e)),1===this.#b?(this.#E=this.#B=0,this.#_.length=0):this.#E=this.#k[e],this.#v.delete(i),this.#b--,e}has(t,e={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=e,n=this.#v.get(t);if(void 0!==n){const t=this.#S[n];if(this.#N(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#U(n))return i&&this.#W(n),r&&(r.has="hit",this.#V(r,n)),!0;r&&(r.has="stale",this.#V(r,n))}else r&&(r.has="miss");return!1}peek(t,e={}){const{allowStale:i=this.allowStale}=e,r=this.#v.get(t);if(void 0===r||!i&&this.#U(r))return;const n=this.#S[r];return this.#N(n)?n.__staleWhileFetching:n}#z(t,e,i,r){const n=void 0===e?void 0:this.#S[e];if(this.#N(n))return n;const s=new Q,{signal:o}=i;o?.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const a={signal:s.signal,options:i,context:r},h=(r,n=!1)=>{const{aborted:o}=s.signal,h=i.ignoreFetchAbort&&void 0!==r;if(i.status&&(o&&!n?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,h&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),o&&!h&&!n)return c(s.signal.reason);const l=u;return this.#S[e]===u&&(void 0===r?l.__staleWhileFetching?this.#S[e]=l.__staleWhileFetching:this.#$(t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,r,a.options))),r},c=r=>{const{aborted:n}=s.signal,o=n&&i.allowStaleOnFetchAbort,a=o||i.allowStaleOnFetchRejection,h=a||i.noDeleteOnFetchRejection,c=u;if(this.#S[e]===u&&(h&&void 0!==c.__staleWhileFetching?o||(this.#S[e]=c.__staleWhileFetching):this.#$(t,"fetch")),a)return i.status&&void 0!==c.__staleWhileFetching&&(i.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw r};i.status&&(i.status.fetchDispatched=!0);const u=new Promise(((e,r)=>{const o=this.#g?.(t,n,a);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),r),s.signal.addEventListener("abort",(()=>{i.ignoreFetchAbort&&!i.allowStaleOnFetchAbort||(e(void 0),i.allowStaleOnFetchAbort&&(e=t=>h(t,!0)))}))})).then(h,(t=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=t),c(t)))),l=Object.assign(u,{__abortController:s,__staleWhileFetching:n,__returned:void 0});return void 0===e?(this.set(t,l,{...a.options,status:void 0}),e=this.#v.get(t)):this.#S[e]=l,l}#N(t){if(!this.#C)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof Q}async fetch(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:l=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:g,signal:y}=e;if(!this.#C)return g&&(g.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,status:g});const b={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:h,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:l,allowStaleOnFetchAbort:d,ignoreFetchAbort:f,status:g,signal:y};let w=this.#v.get(t);if(void 0===w){g&&(g.fetch="miss");const e=this.#z(t,w,b,p);return e.__returned=e}{const e=this.#S[w];if(this.#N(e)){const t=i&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const n=this.#U(w);if(!m&&!n)return g&&(g.fetch="hit"),this.#I(w),r&&this.#W(w),g&&this.#V(g,w),e;const s=this.#z(t,w,b,p),o=void 0!==s.__staleWhileFetching&&i;return g&&(g.fetch=n?"stale":"refresh",o&&n&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const i=await this.fetch(t,e);if(void 0===i)throw new Error("fetch() returned undefined");return i}memo(t,e={}){const i=this.#y;if(!i)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:n,...s}=e,o=this.get(t,s);if(!n&&void 0!==o)return o;const a=i(t,o,{options:s,context:r});return this.set(t,a,s),a}get(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:s}=e,o=this.#v.get(t);if(void 0!==o){const e=this.#S[o],a=this.#N(e);return s&&this.#V(s,o),this.#U(o)?(s&&(s.get="stale"),a?(s&&i&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),i?e.__staleWhileFetching:void 0):(n||this.#$(t,"expire"),s&&i&&(s.returnedStale=!0),i?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(this.#I(o),r&&this.#W(o),e))}s&&(s.get="miss")}#Y(t,e){this.#x[e]=t,this.#k[t]=e}#I(t){t!==this.#B&&(t===this.#E?this.#E=this.#k[t]:this.#Y(this.#x[t],this.#k[t]),this.#Y(this.#B,t),this.#B=t)}delete(t){return this.#$(t,"delete")}#$(t,e){let i=!1;if(0!==this.#b){const r=this.#v.get(t);if(void 0!==r)if(i=!0,1===this.#b)this.#X(e);else{this.#G(r);const i=this.#S[r];if(this.#N(i)?i.__abortController.abort(new Error("deleted")):(this.#L||this.#P)&&(this.#L&&this.#p?.(i,t,e),this.#P&&this.#A?.push([i,t,e])),this.#v.delete(t),this.#M[r]=void 0,this.#S[r]=void 0,r===this.#B)this.#B=this.#x[r];else if(r===this.#E)this.#E=this.#k[r];else{const t=this.#x[r];this.#k[t]=this.#k[r];const e=this.#k[r];this.#x[e]=this.#x[r]}this.#b--,this.#_.push(r)}}if(this.#P&&this.#A?.length){const t=this.#A;let e;for(;e=t?.shift();)this.#m?.(...e)}return i}clear(){return this.#X("delete")}#X(t){for(const e of this.#H({allowStale:!0})){const i=this.#S[e];if(this.#N(i))i.__abortController.abort(new Error("deleted"));else{const r=this.#M[e];this.#L&&this.#p?.(i,r,t),this.#P&&this.#A?.push([i,r,t])}}if(this.#v.clear(),this.#S.fill(void 0),this.#M.fill(void 0),this.#O&&this.#R&&(this.#O.fill(0),this.#R.fill(0)),this.#T&&this.#T.fill(0),this.#E=0,this.#B=0,this.#_.length=0,this.#w=0,this.#b=0,this.#P&&this.#A){const t=this.#A;let e;for(;e=t?.shift();)this.#m?.(...e)}}}var nt=i(18608),st=i(54827);[{name:"code",key:":code",decodeValue:(t,e)=>`<:code blake2_256 ${(0,nt.$)(e,256)} (${e.length/2-1} bytes)>`},{name:"heapPages",key:":heappages",type:"u64"},{name:"extrinsicIndex",key:":extrinsic_index",type:"u32"},{name:"intrablockEntropy",key:":intrablock_entropy",type:"[u8; 32]"},{name:"transactionLevel",key:":transaction_level:",type:"u32"},{name:"grandpaAuthorities",key:":grandpa_authorities",type:"(u8, AuthorityList)"},{name:"relayDispatchQueueRemainingCapacity",prefix:":relay_dispatch_queue_remaining_capacity",decodeKey:(t,e)=>[t.createType("u32",(0,y.G)(e)).toJSON()],type:"(u32, u32)"},{name:"relay_dispatch_queue_size",prefixHex:"0xf5207f03cfdce586301014700e2c2593fad157e461d71fd4c1f936839a5f1f3e",decodeKey:(t,e)=>{const i="0x"+e.slice(-8);return[t.createType("u32",(0,y.G)(i)).toJSON()]},type:"(u32, u32)"}].map((t=>{const e=t.prefixHex??(0,st.$)(t.prefix||t.key);return{name:t.name,prefix:e,decodeKey:t.decodeKey||((t,e)=>[e]),decodeValue:t.decodeValue||(i=t.type,(t,e)=>t.createType(i,(0,y.G)(e)).toJSON())};var i})),k.child({name:"decoder"}),new rt({max:20});const ot=t=>(0,f.c)((0,d.o)(t)[1]);function at(){const t={};return t.promise=new Promise(((e,i)=>{t.resolve=e,t.reject=i})),t}const ht="0x3a6368696c645f73746f726167653a64656661756c743a",ct=ht.length+64,ut=66,lt=(t,e)=>t+(0,N.V)(e),ft=t=>t.startsWith(ht),dt=t=>{if(!t.startsWith(ht))return[];if(t.length<ct)return[];const e=t.slice(0,ct),i=t.slice(ct);return[e,(0,z.t)(i)]},pt=t=>{const[e,i]=dt(t);return e?i:t},mt=async t=>{const e=await gt(t),i=await yt(t);return Math.floor(Number(e/BigInt(i)))},gt=async t=>{const e=await t.meta,i=await t.read("u64",e.query.timestamp.now);return i?.toBigInt()??BigInt(Date.now())},yt=async t=>{const e=await t.meta;let i;return i??=e.consts.babe?.expectedBlockTime?.toNumber(),i??=e.consts.asyncBacking?.expectedBlockTime?.toNumber(),i||P(await t.wasm).catch((()=>12e3))};class bt{#tt;#et;#it;#rt;signedExtensions;#nt={};constructor(t,e){this.#tt=t,this.signedExtensions=e||{}}async disconnect(){return this.#tt.disconnect()}get isReady(){return this.#et||(this.#tt.isReady?this.#et=this.#tt.isReady:this.#et=new Promise((t=>{this.#tt.hasSubscriptions?(this.#tt.on("connected",t),this.#tt.connect()):t()}))),this.#et}get chain(){return this.#it||(this.#it=this.getSystemChain()),this.#it}get chainProperties(){return this.#rt||(this.#rt=this.getSystemProperties()),this.#rt}onFetching(t){this.#nt.fetching=t}async send(t,e,i){return this.#nt?.fetching?.(),this.#tt.send(t,e,i)}async getSystemName(){return this.send("system_name",[])}async getSystemProperties(){return this.send("system_properties",[])}async getSystemChain(){return this.send("system_chain",[])}async getBlockHash(t){return this.send("chain_getBlockHash",Number.isInteger(t)?[t]:[],!!t)}async getHeader(t){return this.send("chain_getHeader",t?[t]:[],!!t)}async getBlock(t){return this.send("chain_getBlock",t?[t]:[],!!t)}async getStorage(t,e){const[i,r]=dt(t);if(i){const t=[i,r];return e&&t.push(e),this.send("childstate_getStorage",t,!!e)}{const i=[t];return e&&i.push(e),this.send("state_getStorage",i,!!e)}}async getKeysPaged(t,e,i,r){const[n,s]=dt(t);if(n){const t=[n,s,e,pt(i)];return r&&t.push(r),this.#tt.send("childstate_getKeysPaged",t,!!r).then((t=>t.map((t=>lt(n,t)))))}{const n=[t,e,i];return r&&n.push(r),this.send("state_getKeysPaged",n,!!r)}}async getStorageBatch(t,e,i){const[r]=dt(t);if(r){const t=[r,e.map((t=>pt(t)))];return i&&t.push(i),this.#tt.send("childstate_getStorageEntries",t,!!i).then((t=>l.zip(e,t)))}{const t=[e];return i&&t.push(i),this.#tt.send("state_queryStorageAt",t,!!i).then((t=>t[0]?.changes||[]))}}async subscribeRemoteNewHeads(t){if(!this.#tt.hasSubscriptions)throw new Error("subscribeRemoteNewHeads only works with subscriptions");return this.#tt.subscribe("chain_newHead","chain_subscribeNewHeads",[],t)}async subscribeRemoteFinalizedHeads(t){if(!this.#tt.hasSubscriptions)throw new Error("subscribeRemoteFinalizedHeads only works with subscriptions");return this.#tt.subscribe("chain_finalizedHead","chain_subscribeFinalizedHeads",[],t)}}var wt=i(35562),vt=i(18297),Mt=i(69516),St=i(85617),kt=i(33403),xt=i(51330),Et=i(47326);class Bt{number;hash;#it;#st;#ot;#at;#ht;#ct;#ut;#lt;#ft;#dt;#pt;constructor(t,e,i,r,n){this.number=e,this.hash=i,this.#it=t,this.#ot=r?new WeakRef(r):void 0,this.#st=n?.header,this.#at=n?.extrinsics,this.#dt=n?.storage??new q(t.api,i,t.db),this.#pt=[],this.#ct=r?.runtimeVersion,this.#ut=r?.metadata,this.#lt=r?.registry,this.#ft=r?.meta;const s=n?.storageDiff;s&&(s[(0,st.$)(":code")]&&(this.#ct=void 0,this.#ut=void 0,this.#lt=void 0,this.#ft=void 0),this.pushStorageLayer().setAll(s))}get chain(){return this.#it}get header(){return this.#st||(this.#st=Promise.all([this.registry,this.#it.api.getHeader(this.hash)]).then((([t,e])=>t.createType("Header",e)))),this.#st}get extrinsics(){return this.#at||(this.#at=this.#it.api.getBlock(this.hash).then((t=>{if(!t)throw new Error(`Block ${this.hash} not found`);return t.block.extrinsics}))),this.#at}get parentBlock(){if(0===this.number)return Promise.resolve(void 0);const t=async t=>{const e=await t,i=await this.#it.getBlock(e.parentHash.toHex());return i&&(this.#ot=new WeakRef(i)),i};if(this.#ot instanceof WeakRef){const e=this.#ot.deref();if(e)return Promise.resolve(e);this.#ot=t(this.header)}else this.#ot||(this.#ot=t(this.header));return this.#ot}get storage(){return this.#pt[this.#pt.length-1]??this.#dt}async get(t){const e=await this.storage.get(t,!0);if(e!==j.Deleted)return e}async read(t,e,...i){const r=ot(e(...i)),n=await this.get(r);if(n)return(await this.registry).createType(t,(0,y.G)(n))}async getKeysPaged(t){const e=t.prefix??"0x",i=t.startKey??"0x",r=t.pageSize;return this.storage.getKeysPaged(e,r,i)}pushStorageLayer(){const t=new $(this.storage);return this.#pt.push(t),t}popStorageLayer(){this.#pt.pop()}async storageDiff(){const t={};for(const e of this.#pt)await e.mergeInto(t);return t}get wasm(){return this.#ht||(this.#ht=(async()=>{const t=(0,st.$)(":code"),e=await this.get(t);if(!e)throw new Error("No wasm found");return e})()),this.#ht}setWasm(t){const e=(0,st.$)(":code");this.pushStorageLayer().set(e,t),this.#ht=Promise.resolve(t),this.#ct=void 0,this.#lt=void 0,this.#ft=void 0,this.#ut=void 0}get registry(){return this.#lt||(this.#lt=Promise.all([this.metadata,this.runtimeVersion]).then((([t,e])=>this.#it.buildRegistry(t,e)))),this.#lt}get runtimeVersion(){return this.#ct||(this.#ct=this.wasm.then(R)),this.#ct}get metadata(){return this.#ut||(this.#ut=this.call("Metadata_metadata",[]).then((t=>ot((0,y.G)(t.result))))),this.#ut}get meta(){return this.#ft||(this.#ft=Promise.all([this.registry,this.metadata]).then((([t,e])=>{const i=new vt.S(t,e);return(0,Et.hJ)(t,i)}))),this.#ft}async call(t,e){const i=await this.wasm,r=await L({wasm:i,calls:[[t,e]],mockSignatureHost:this.#it.mockSignatureHost,allowUnresolvedImports:this.#it.allowUnresolvedImports,runtimeLogLevel:this.#it.runtimeLogLevel},(n=this,{getStorage:async function(t){return n.get(t)},getNextKey:async function(t,e){const[i]=await n.getKeysPaged({prefix:2===t.length?e.slice(0,ut):t,pageSize:1,startKey:e});return i&&pt(i)},offchainGetStorage:async function(t){if(!n.chain.offchainWorker)throw new Error("offchain worker not found");return n.chain.offchainWorker.get(t)},offchainTimestamp:async function(){return Date.now()},offchainRandomSeed:async function(){return(0,b.f)(32)},offchainSubmitTransaction:async function(t){if(!n.chain.offchainWorker)throw new Error("offchain worker not found");try{const e=await n.chain.offchainWorker.pushExtrinsic(n,t);return _.trace({hash:e},"offchainSubmitTransaction"),!0}catch(t){return _.trace({error:t},"offchainSubmitTransaction"),!1}}}));var n;if("Call"in r){if(this.chain.offchainWorker)for(const[t,e]of r.Call.offchainStorageDiff)this.chain.offchainWorker.set(t,e);return r.Call}if(r.Error)throw Error(r.Error);throw Error("Unexpected response")}}var _t=i(30686),At=i(88311);const Tt=k.child({name:"block-builder"}),Rt=async(t,e)=>{const i=await t.meta,r=await t.header;let n=t.number?r.digest.logs.toArray():await(async t=>{const e=await t.meta,i=await mt(t);if(e.consts.babe){const t=e.registry.createType("Slot",i+1),r=e.registry.createType("ConsensusEngineId","BABE"),n=e.registry.createType("RawBabePreDigest",{SecondaryVRF:{authorityIndex:514,slotNumber:t,vrfOutput:"0x44cadd14aaefbda13ac8d85e1a6d58be082e7e2f56a4f95a3c612c784aaa4063",vrfProof:"0xf5517bf67d93ce633cde2fde7fbcf8ddca80017aaf8cd48436514687c662f60eda0ffa2c4781906416f4e71a196c9783c60c1b83d54c3a29365d03706714570b"}});return[e.registry.createType("DigestItem",{PreRuntime:[r,(0,At.N)(n.toU8a())]})]}{const t=e.registry.createType("Slot",i+1),r=e.registry.createType("ConsensusEngineId","aura");return[e.registry.createType("DigestItem",{PreRuntime:[r,(0,At.N)(t.toU8a())]})]}})(t);const s=(t=>{if(0===t.digest.logs.length)return;const[e,i]=t.digest.logs[0].asPreRuntime;return{consensusEngine:e,preDigest:i,rest:t.digest.logs.slice(1)}})(r);if(s?.consensusEngine.isAura){const e=await mt(t),r=(0,At.N)(i.registry.createType("Slot",e+1).toU8a());n=[i.registry.createType("DigestItem",{PreRuntime:[s.consensusEngine,r]}),...s.rest]}else if(s?.consensusEngine.isBabe){const e=await mt(t),r=i.registry.createType("RawBabePreDigest",s.preDigest),o=(0,At.N)(i.registry.createType("RawBabePreDigest",((t,e)=>t.isPrimary?{primary:{...t.asPrimary.toJSON(),slotNumber:e}}:t.isSecondaryPlain?{secondaryPlain:{...t.asSecondaryPlain.toJSON(),slotNumber:e}}:t.isSecondaryVRF?{secondaryVRF:{...t.asSecondaryVRF.toJSON(),slotNumber:e}}:t.toJSON())(r,e+1)).toU8a());n=[i.registry.createType("DigestItem",{PreRuntime:[s.consensusEngine,o]}),...s.rest]}else if("nmbs"==s?.consensusEngine?.toString()){const e=(0,st.$)("nmbs");n=[i.registry.createType("DigestItem",{PreRuntime:[s.consensusEngine,r.digest.logs.find((t=>t.isPreRuntime&&t.asPreRuntime[0].toHex()==e))?.asPreRuntime[1].toHex()]}),...s.rest],i.query.randomness?.notFirstBlock&&t.pushStorageLayer().set(ot(i.query.randomness.notFirstBlock()),j.Deleted)}return i.registry.createType("Header",{parentHash:t.hash,number:e??t.number+1,stateRoot:"0x0000000000000000000000000000000000000000000000000000000000000000",extrinsicsRoot:"0x0000000000000000000000000000000000000000000000000000000000000000",digest:{logs:n}})},Ot=async(t,e,i,r,n,s)=>{const o=e.number.toNumber(),a=`0x${Math.round(1e8*Math.random()).toString(16).padEnd(64,"0")}`,h=new Bt(t.chain,o,a,t,{header:e,extrinsics:[],storage:n??t.storage});{const i=await h.call("Core_initialize_block",[e.toHex()]);if(h.pushStorageLayer().setAll(i.storageDiff),0===t.number){const e=await t.meta,i=await t.header;h.pushStorageLayer().setAll([[ot(e.query.system.parentHash()),i.hash.toHex()]])}s?.onPhaseApplied?.("initialize",i)}const c=[],u=[];for(const t of i)try{const e=await t.createInherents(h,r);if(0===e.length)continue;const i=await h.call("BlockBuilder_apply_extrinsic",e),n=h.pushStorageLayer();n.setAll(i.storageDiff),u.push(n),c.push(...e),s?.onPhaseApplied?.(u.length-1,i)}catch(t){throw Tt.warn("Failed to apply inherents %o %s",t,t),new Error("Failed to apply inherents")}return{block:h,layers:u,inherents:c}},Lt=async(t,e,i)=>{const r=await Rt(t),{layers:n}=await Ot(t,r,e,i),s={};for(const t of n)await t.mergeInto(s);return Object.entries(s)},Ct=k.child({name:"txpool"}),Pt="TxPool::ApplyExtrinsicError";var Nt=function(t){return t.Batch="Batch",t.Instant="Instant",t.Manual="Manual",t}({});class zt{#it;#mt=[];#gt={};#yt=[];#bt={};#wt;#vt;#Mt=[];event=new _t.v;#St=!1;constructor(t,e,i="Batch"){this.#it=t,this.#wt=i,this.#vt=e}get pendingExtrinsics(){return this.#mt.map((({extrinsic:t})=>t))}get ump(){return this.#gt}get dmp(){return this.#yt}get hrmp(){return this.#bt}get mode(){return this.#wt}set mode(t){this.#wt=t}clear(){this.#mt.length=0;for(const t of Object.keys(this.#gt))delete this.#gt[t];this.#yt.length=0;for(const t of Object.keys(this.#bt))delete this.#bt[t]}pendingExtrinsicsBy(t){return this.#mt.filter((({signer:e})=>e===t)).map((({extrinsic:t})=>t))}async submitExtrinsic(t){Ct.debug({extrinsic:E(t)},"submit extrinsic"),this.#mt.push({extrinsic:t,signer:await this.#kt(t)}),this.#xt()}async#kt(t){return(await this.#it.head.registry).createType("GenericExtrinsic",t).signer.toString()}submitUpwardMessages(t,e){Ct.debug({id:t,ump:E(e)},"submit upward messages"),this.#gt[t]||(this.#gt[t]=[]),this.#gt[t].push(...e),this.#xt()}submitDownwardMessages(t){Ct.debug({dmp:E(t)},"submit downward messages"),this.#yt.push(...t),this.#xt()}submitHorizontalMessages(t,e){Ct.debug({id:t,hrmp:E(e)},"submit horizontal messages"),this.#bt[t]||(this.#bt[t]=[]),this.#bt[t].push(...e),this.#xt()}#xt(){switch(this.#wt){case"Batch":this.#Et();break;case"Instant":this.buildBlock()}}#Et=l.debounce(this.buildBlock,100,{maxWait:1e3});async buildBlockWithParams(t){this.#Mt.push({params:t,deferred:at()}),this.#Bt(),await this.upcomingBlocks()}async buildBlock(t){const e=t?.transactions||this.#mt.splice(0).map((({extrinsic:t})=>t)),i=t?.upwardMessages||{...this.#gt},r=t?.downwardMessages||this.#yt.splice(0),n=t?.horizontalMessages||{...this.#bt},s=t?.unsafeBlockHeight,o=t?.relayChainStateOverrides,a=t?.relayParentNumber;if(!t?.upwardMessages)for(const t of Object.keys(this.#gt))delete this.#gt[t];if(!t?.horizontalMessages)for(const t of Object.keys(this.#bt))delete this.#bt[t];try{if(await this.buildBlockWithParams({transactions:e,upwardMessages:i,downwardMessages:r,horizontalMessages:n,unsafeBlockHeight:s,relayChainStateOverrides:o,relayParentNumber:a}),!this.#it.processQueuedMessages)return;if(l.isEmpty(n)&&l.isEmpty(r))return;const t="0xb8753e9383841da95f7b8871e5de326954e062a2cf8df68178ee2e5dbdf00bff",h=await this.#it.head.meta,c=await this.#it.head.getKeysPaged({prefix:t,pageSize:1e3});for(const t of c){const e=await this.#it.head.get(t);if(!e)continue;const i=h.registry.createType("PalletMessageQueueBookState",(0,y.G)(e)).toJSON();if(i.size>0&&i.end>i.begin)return Ct.info("Queued messages detected, building a new block"),void await this.#it.newBlock()}}catch(t){Ct.error({err:t},"build block failed")}}async upcomingBlocks(){const t=this.#Mt.length;return t>0&&await this.#Mt[t-1].deferred.promise,t}async#Bt(){if(!this.#St&&0!==this.#Mt.length){this.#St=!0;try{await this.#_t()}finally{this.#St=!1}this.#Bt()}}async#_t(){await this.#it.api.isReady;const t=this.#Mt[0];if(!t)throw new Error("Unreachable");const{params:e,deferred:i}=t;Ct.trace({params:e},"build block");const[r,n]=await(async(t,e,i,r)=>{const{transactions:n,upwardMessages:s,unsafeBlockHeight:o}=i,a=await t.registry,h=await Rt(t,o),c=h.number.toNumber();let u;if(Tt.info({number:c,extrinsics:n.map(E),umpCount:Object.keys(s).length},`${await t.chain.api.getSystemChain()} building #${c.toLocaleString()}`),Object.keys(s).length>0){const e=await t.meta;u=new $(t.storage);for(const[t,i]of Object.entries(s)){const r=i.map((t=>(0,y.G)(t))),n=i.length,s=r.map((t=>t.length)).reduce(((t,e)=>t+e),0);if(e.query.ump){const r=e.registry.createType("(u32, u32)",[n,s]),o=e.registry.createType("Vec<Bytes>",i);u.setAll([[ot(e.query.ump.relayDispatchQueues(t)),o.toHex()],[ot(e.query.ump.relayDispatchQueueSize(t)),r.toHex()]])}else{if(!e.query.messageQueue)throw new Error("Unknown ump storage");{const i={ump:{para:t}};let o=0,a=new Uint8Array(0);for(const t of r){const i=t.length,r=e.registry.createType("(u32, bool)",[i,!1]);o=a.length,a=(0,xt.e)(a,r.toU8a(),t)}u.setAll([[ot(e.query.messageQueue.bookStateFor(i)),e.registry.createType("PalletMessageQueueBookState",{begin:0,end:1,count:1,readyNeighbours:{prev:i,next:i},messageCount:n,size_:s}).toHex()],[ot(e.query.messageQueue.serviceHead(i)),e.registry.createType("PolkadotRuntimeParachainsInclusionAggregateMessageOrigin",i).toHex()],[ot(e.query.messageQueue.pages(i,0)),e.registry.createType("PalletMessageQueuePage",{remaining:n,remaining_size:s,first_index:0,first:0,last:o,heap:(0,At.N)(a)}).toHex()]])}}Tt.trace({paraId:t,upwardMessages:E(i)},"Pushed UMP")}if(e.query.ump){const t=e.registry.createType("Vec<u32>",Object.keys(s));u.set(ot(e.query.ump.needsDispatch()),t.toHex())}}const{block:l,inherents:f}=await Ot(t,h,e,i,u),d=[],p=[];for(const t of n)try{const e=await l.call("BlockBuilder_apply_extrinsic",[t]),i=a.createType("ApplyExtrinsicResult",e.result);if(i.isErr){r?.onApplyExtrinsicError?.(t,i.asErr);continue}l.pushStorageLayer().setAll(e.storageDiff),p.push(t),r?.onPhaseApplied?.(p.length-1,e)}catch(e){Tt.info("Failed to apply extrinsic %o %s",e,e),d.push(t)}{const t=await l.call("BlockBuilder_finalize_block",[]);l.pushStorageLayer().setAll(t.storageDiff),r?.onPhaseApplied?.("finalize",t)}const m=[...f,...p],g=(0,nt.b)((0,xt.e)(...m),256),b=a.createType("Header",{...h.toJSON(),extrinsicsRoot:g}),w=await l.storageDiff();"trace"===Tt.level.toLowerCase()&&Tt.trace(Object.entries(w).map((([t,e])=>[t,E(e)])),"Final block");const v=new Bt(t.chain,l.number,b.hash.toHex(),t,{header:b,extrinsics:m,storage:t.storage,storageDiff:w});return Tt.info({number:v.number,hash:v.hash,extrinsics:E(p),pendingExtrinsics:d.map(E),ump:E(s)},`${await t.chain.api.getSystemChain()} new head #${v.number.toLocaleString()}`),[v,d]})(this.#it.head,this.#vt,e,{onApplyExtrinsicError:(t,e)=>{this.event.emit(Pt,[t,e])},onPhaseApplied:"trace"===Ct.level.toLowerCase()?(t,e)=>{switch(t){case"initialize":Ct.trace(E(e.storageDiff),"Initialize block");break;case"finalize":Ct.trace(E(e.storageDiff),"Finalize block");break;default:Ct.trace(E(e.storageDiff),`Apply extrinsic ${t}`)}}:void 0});for(const t of n)this.#mt.push({extrinsic:t,signer:await this.#kt(t)});await this.#it.onNewBlock(r),this.#Mt.shift(),i.resolve()}}const It=()=>Math.random().toString(36).substring(2),Dt=k.child({name:"head-state"});class Ht{#At={};#Tt={};#Rt={};#E;constructor(t){this.#E=t}subscribeHead(t){const e=It();return this.#At[e]=t,e}unsubscribeHead(t){delete this.#At[t]}async subscribeStorage(t,e){const i=It();this.#Tt[i]=[t,e];for(const e of t)this.#Rt[e]=await this.#E.get(e).then((t=>t||null));return i}unsubscribeStorage(t){delete this.#Tt[t]}async setHead(t){this.#E=t;for(const e of Object.values(this.#At))try{await e(t)}catch(t){Dt.error(t,"setHead head callback error")}const e=await this.#E.storageDiff();for(const[i,r]of Object.values(this.#Tt)){const n=i.filter((t=>e[t])).map((t=>[t,e[t]]));if(n.length>0)try{await r(t,n)}catch(t){Dt.error(t,"setHead storage diff callback error")}}Object.assign(this.#Rt,e)}}var Ut=i(22947);const Ft=k.child({name:"offchain"});class jt{pendingExtrinsics=[];offchainStorage=new Map;get(t){return this.offchainStorage.get(t)}set(t,e){this.offchainStorage.set(t,e)}async run(t){Ft.info({number:t.number,hash:t.hash},`Run Offchain Worker for block #${t.number.toLocaleString()}`);const e=await t.header;await t.call("OffchainWorkerApi_offchain_worker",[e.toHex()]),Ft.info(`Offchain Worker complete for block #${t.number.toLocaleString()}`);const i=this.pendingExtrinsics.splice(0);i.length>0&&Ut.N.schedule((async e=>{await t.chain.txPool.buildBlock({transactions:e})}),100,i)}async pushExtrinsic(t,e){const i=await t.chain.validateExtrinsic(e,"0x01");if(i.isOk)return this.pendingExtrinsics.push(e),(0,nt.$)(e,256);throw i.asErr}}const qt=k.child({name:"blockchain"});class $t{api;db;mockSignatureHost;allowUnresolvedImports;#Ot;registeredTypes;#Lt;#vt;#E;#Ct=new Map;#Pt=new Map;#Nt={};headState;offchainWorker;#zt;processQueuedMessages=!0;#It=l.memoize((async(t,e,i)=>{const r=await this.api.chain,n=await this.api.chainProperties,s=new wt.P;return s.setKnownTypes(this.registeredTypes),s.setChainProperties(s.createType("ChainProperties",n)),s.register((0,St.kh)(s,r,i.specName,i.specVersion)),s.setHasher((0,St.ve)(s,r,i.specName)),s.setMetadata(new vt.S(s,e),void 0,(0,kt.Z)({},(0,St.oR)(s,r,i.specName),this.api.signedExtensions),!0),s}));constructor({api:t,buildBlockMode:e,inherentProviders:i,db:r,header:n,mockSignatureHost:s=!1,allowUnresolvedImports:o=!1,runtimeLogLevel:a=0,registeredTypes:h={},offchainWorker:c=!1,maxMemoryBlockCount:u=500,processQueuedMessages:l=!0}){this.api=t,this.db=r,this.mockSignatureHost=s,this.allowUnresolvedImports=o,this.#Ot=a,this.registeredTypes=h,this.#E=new Bt(this,n.number,n.hash),this.#Dt(this.#E),this.#Lt=new zt(this,i,e),this.#vt=i,this.headState=new Ht(this.#E),c&&(this.offchainWorker=new jt),this.#zt=u,this.processQueuedMessages=l}#Dt(t){if(this.#Ct.size===this.#zt){const{hash:t,number:e}=this.#Ct.values().next().value;this.#Ct.delete(e),this.#Pt.delete(t)}this.#Ct.set(t.number,t),this.#Pt.set(t.hash,t)}get head(){return this.#E}get txPool(){return this.#Lt}get runtimeLogLevel(){return this.#Ot}set runtimeLogLevel(t){this.#Ot=t,qt.debug(`Runtime log level set to ${qt.level}`)}async buildRegistry(t,e){const i=`${(0,Mt.R)(t,256)}-${e.specVersion}`;return this.#It(i,t,e)}async saveBlockToDB(t){if(this.db){const{hash:e,number:i,header:r,extrinsics:n}=t;await this.db.saveBlock({hash:e,number:i,header:(await r).toHex(),extrinsics:await n,parentHash:(await t.parentBlock)?.hash||null,storageDiff:await t.storageDiff()})}}async loadBlockFromDB(t){if(this.db){const e="number"==typeof t?await this.db.queryBlockByNumber(t):await this.db.queryBlock(t);if(e){const{hash:t,number:i,header:r,extrinsics:n}=e,s=e.parentHash||void 0;let o=s?this.#Pt.get(s):void 0;o||(o=await this.getBlock(s));const a=e.storageDiff??void 0,h=await this.head.registry,c=new Bt(this,i,t,o,{header:h.createType("Header",r),extrinsics:n,storage:o?.storage,storageDiff:a});return this.#Dt(c),c}}}async getBlockAt(t){if(null==t)return this.head;if(!(t>this.#E.number)){if(!this.#Ct.has(t)){const e=await this.loadBlockFromDB(t);if(e)return e;const i=await this.api.getBlockHash(t);if(!i)return;const r=new Bt(this,t,i);this.#Dt(r)}return this.#Ct.get(t)}}async getBlock(t){if(await this.api.isReady,null==t&&(t=this.head.hash),!this.#Pt.has(t)){const e=this.#Nt[t];if(e)await e;else{const e=(async()=>{try{if(!await this.loadBlockFromDB(t)){const e=await this.api.getHeader(t);if(!e)throw new Error(`Block ${t} not found`);const i=new Bt(this,Number(e.number),t);this.#Dt(i)}}catch(e){qt.debug(`getBlock(${t}) failed: ${e}`)}})();this.#Nt[t]=e,await e,delete this.#Nt[t]}}return this.#Pt.get(t)}blocksInMemory(){return Array.from(this.#Ct.values())}async unregisterBlock(t){if(t.hash===this.head.hash)throw new Error("Cannot unregister head block");this.#Ct.get(t.number)?.hash===t.hash&&this.#Ct.delete(t.number),this.#Pt.delete(t.hash),this.db&&await this.db.deleteBlock(t.hash)}async onNewBlock(t){await this.setHead(t),await this.saveBlockToDB(t)}async setHead(t){qt.debug({number:t.number,hash:t.hash},"setHead"),this.#E=t,this.#Dt(t),await this.headState.setHead(t),this.offchainWorker&&await this.offchainWorker.run(t)}async submitExtrinsic(t){const e=await this.validateExtrinsic(t);if(e.isOk)return await this.#Lt.submitExtrinsic(t),(0,nt.$)(t,256);throw e.asErr}async validateExtrinsic(t,e="0x02"){const i=(0,f.c)((0,xt.e)(e,t,this.head.hash)),r=await this.head.call("TaggedTransactionQueue_validate_transaction",[i]);return(await this.head.registry).createType("TransactionValidity",r.result)}submitUpwardMessages(t,e){this.#Lt.submitUpwardMessages(t,e),qt.debug({id:t,ump:e},"submitUpwardMessages")}submitDownwardMessages(t){this.#Lt.submitDownwardMessages(t),qt.debug({dmp:t},"submitDownwardMessages")}submitHorizontalMessages(t,e){this.#Lt.submitHorizontalMessages(t,e),qt.debug({id:t,hrmp:e},"submitHorizontalMessages")}async newBlock(t){return await this.#Lt.buildBlock(t),this.#E}async newBlockWithParams(t){return await this.#Lt.buildBlockWithParams(t),this.#E}async upcomingBlocks(){return this.#Lt.upcomingBlocks()}async dryRunExtrinsic(t,e){await this.api.isReady;const i=e?await this.getBlock(e):this.head;if(!i)throw new Error(`Cannot find block ${e}`);const r=await i.registry,{result:n,storageDiff:s}=await(async(t,e,i,r)=>{const n=await t.registry,s=await Rt(t),{block:o}=await Ot(t,s,e,{transactions:[],downwardMessages:[],upwardMessages:[],horizontalMessages:{}});if("string"!=typeof i){if(!t.chain.mockSignatureHost)throw new Error("Cannot fake signature because mock signature host is not enabled. Start chain with `mockSignatureHost: true`");const e=await t.meta,r=n.createType("Call",(0,y.G)(i.call)),s=n.createType("GenericExtrinsic",r),a=await t.get(ot(e.query.system.account(i.address))),h=n.createType("AccountInfo",(0,y.G)(a));s.signFake(i.address,{blockHash:t.hash,genesisHash:t.hash,runtimeVersion:await t.runtimeVersion,nonce:h.nonce});const c=new Uint8Array(64);return c.fill(205),c.set([222,173,190,239]),s.signature.set(c),Tt.debug({call:r.toHuman()},"dry_run_call"),o.call("BlockBuilder_apply_extrinsic",[s.toHex()])}return Tt.debug({call:n.createType("GenericExtrinsic",(0,y.G)(i)).toJSON()},"dry_run_extrinsic"),o.call("BlockBuilder_apply_extrinsic",[i])})(i,this.#vt,t);return{outcome:r.createType("ApplyExtrinsicResult",n),storageDiff:s}}async dryRunHrmp(t,e){await this.api.isReady;const i=e?await this.getBlock(e):this.head;if(!i)throw new Error(`Cannot find block ${e}`);const r={transactions:[],downwardMessages:[],upwardMessages:[],horizontalMessages:t};return Lt(i,this.#vt,r)}async dryRunDmp(t,e){await this.api.isReady;const i=e?await this.getBlock(e):this.head;if(!i)throw new Error(`Cannot find block ${e}`);const r={transactions:[],downwardMessages:t,upwardMessages:[],horizontalMessages:{}};return Lt(i,this.#vt,r)}async dryRunUmp(t,e){await this.api.isReady;const i=e?await this.getBlock(e):this.head;if(!i)throw new Error(`Cannot find block ${e}`);const r=await i.meta,n=r.registry.createType("Vec<u32>",Object.keys(t)),s=[[ot(r.query.ump.needsDispatch()),n.toHex()]];for(const[e,i]of Object.entries(t)){const t=r.registry.createType("Vec<Bytes>",i);if(0===t.length)throw new Error("No upward meesage");const n=r.registry.createType("(u32, u32)",[t.length,t.map((t=>t.byteLength)).reduce(((t,e)=>t+e),0)]);s.push([ot(r.query.ump.relayDispatchQueues(e)),t.toHex()]),s.push([ot(r.query.ump.relayDispatchQueueSize(e)),n.toHex()])}return i.pushStorageLayer().setAll(s),Lt(i,this.#vt,{transactions:[],downwardMessages:[],upwardMessages:[],horizontalMessages:{}})}getInherents(){return this.#vt}async close(){await this.api.disconnect(),await(this.db?.close())}}v.z.object({id:v.z.string(),name:v.z.string(),properties:v.z.object({ss58Format:v.z.number().optional(),tokenDecimals:v.z.union([v.z.number(),v.z.array(v.z.number())]).optional(),tokenSymbol:v.z.union([v.z.string(),v.z.array(v.z.string())]).optional()}),genesis:v.z.object({raw:v.z.object({top:v.z.record(v.z.string())})})}),k.child({name:"xcm"});var Wt=i(95182),Vt=i(42582),Gt=i(32085);const Kt={EPOCH_INDEX:"0x1cb6f36e027abb2091cfb5110ab5087f38316cbf8fa0da822a20ac1c55bf1be3",CURRENT_BLOCK_RANDOMNESS:"0x1cb6f36e027abb2091cfb5110ab5087fd077dfdb8adb10f78f10a5df8742c545",ONE_EPOCH_AGO_RANDOMNESS:"0x1cb6f36e027abb2091cfb5110ab5087f7ce678799d3eff024253b90e84927cc6",TWO_EPOCHS_AGO_RANDOMNESS:"0x1cb6f36e027abb2091cfb5110ab5087f7a414cb008e0e61e46722aa60abdd672",CURRENT_SLOT:"0x1cb6f36e027abb2091cfb5110ab5087f06155b3cd9a8c9e5e9a23fd5dc13a5ed",ACTIVE_CONFIG:"0x06de3d8a54d27e44a9d5ce189618f22db4b49d95320d9021994c850f25b8e385"},Zt=(t,e)=>(0,f.c)((0,xt.e)((0,y.G)(t),(0,Mt.r)(e,64),e)),Jt=t=>Zt("0x6a0da05ca59913bc38a8630590f2627cb6604cff828a6e3f579ca6c59ace013d",t.toU8a()),Qt=t=>Zt("0xcd710b30bd2eab0352ddcc26417aa1941b3c252fcb29d88eff4f3de5de4476c3",t.toU8a()),Yt={validationData:{relayParentNumber:1e3,relayParentStorageRoot:"0x0",maxPovSize:5242880},relayChainState:{trieNodes:["0x5f04b49d95320d9021994c850f25b8e385f902000030000080000008000000000010000000100005000000050000000a0000000a000000000050000000100000e8764817000000040000000400000000000000000000000000000000000000000000000000000000000000000000000800000000200000040000000400000000001000b0040000000000000000000014000000040000000400000000000000010100000000060000006400000002000000c8000000020000001900000000000000020000000200000000c817a804000000","0x80011080ace5323aee784b03389c0e2cc68d81973f8fa26d395f333ecad7399271c781e1808e5db75be813c05205986cbd6fdede707a4d26816063a41eb42ebc262c734fad","0x8004648086a9239b72237f5bf119e2a880c32f5866460632700509cb874c60f67fe815ea80f6f6801e4b41e2e6d8ec194dba122bfb9eb33feb2545ef5144cea79551f7cc5280c629a7e712d763fe83b35d2a082430af6737a89f23219c0eb3051c83bc5af5ad80fed5ecd6097308a6540f8cf31aeaad186e6898d2ecc0e623767c521c70e39953","0x800804809f3ada68c357b5e0a3ebb39ef181acfa9943af4725c244330a4b2c60837612e88082ad3fbdf392429afeacc70177704b760bb145547c1f152e1fcf651916b43820","0x8008208042793f557c1d003b647e2eda79c2b5088c7d8cab2e82c1dcc87f4343cca91ae4485ead6eef5c4b1c68eaa71ea17a02d9de0400","0x80210280de38445d825563f8e218255a417c16971afa85b4f2ef18fbe08fbc5b976dc0d6801a2ff24096295cfccf1adda80b8dfffe380b9f3b54d7a3cdb67864a4655e62968022a699b2cc90a6654c84163d2a498506b192afe7cd9777227e5288e8ff069c0f","0x80400180ebebd1a1cd0bbc6714b7fb0ac854cca5a4c4e34e69485da48be3c8087b56e09b80128645c79ca6581c248a412fd7b8bc532a187600e6e1cc20c915538ba4df6a79","0x80ffbe80d9302a505e2b1ac931f539aed33bf791d1982906ae64c7197324044f191e9bca80972cd2f703f9c94fd516e14b7013c6f1545095855b6c4b36f21d89dad30aa54d80b2495ce4d07001927bb0857611f8d3a1449e791d0b010e3861c32dec0c44179680f5929c8ef9b0ac6ec8a529c91348d8cd6c169920dd37d055544a6c31c53b11e380402a0bf7ff07cee790d9cc065fc138ff6afa7db016d898d65b2b716af354c6f68042aef1dafffd1d9debbb8e6c4eb48b5c141ddf0aad2b0f3f4ddf53e6b38e65c080b31fa0392c1abdce1aa29d1544c94634ecab87ecaba6409db33aaa7621992a8280b1f4de7c3ac5665016d561a60659cd2d8f2d3e0a97e2ea9749279bd8e35eb1f180816ac87a2893694016b21768137a76ea459190ea0fc3c645d85e1a3d4eb194fe802e563b43e7334454c841953424be8c2b7a1c3295dbc391045cb6b88388ad5e7080b1ed3b02e5989b7d134ca056c778f1f5b6ffd377b2d8064483da6e94b82b0e40800cb3299c44a5db8fdcb4932e1b6ab0385d6ef1c9f8d85e0a75b787b6f4fd6c3c805a44c30e2676dc2d4c17451f51d9502e85064387999f366e6f3d404509a7780f80d6788ca71c6aabe421c352027acdb9532563dc5f1b25e6154b721f431e9990ed","0x9d0da05ca59913bc38a8630590f2627c154080834dda0ba5adf00d798e981a28a13e728cf83e35aefc87318440a61869f724474c5f0a351b6a99a5b21324516e668bb86a570400505f0e7b9012096b41c4eb3aaf947f6ea4290800007c7700e67da63472835bb0b737093a19ad4c63f5a4efb16ffa83d00700000400","0x9e207f03cfdce586301014700e2c25931040505f0e7b9012096b41c4eb3aaf947f6ea4290800004c5f0ec2d17a76153ff51817f12d9cfc3c7f0400","0x9e710b30bd2eab0352ddcc26417aa1945fc180699a53b51a9709a3a86039c49b5ef278e9fc244dae27e1a0380c91bff5b0488580c0d4096d94e724b8e86f952e5456c7253776de04c405582d2c350ee172d3eaa77c77081e0bfde17b36573208a06cb5cfba6b63f5a4efb16ffa83d00700000402803d0ae0b8f6832e8fabf0ec62521c2487c58b69eb97060faa8059b00ff6b7262d505f0e7b9012096b41c4eb3aaf947f6ea4290800004c5f03c716fb8fff3de61a883bb76adb34a20400806c8122e0f7f786071d6a51b330d612eccdcbe8d8f79936accabd640506dffdf380a6abfb72ed49b586829cca4ce631c092d45a017ab0d68288d308873025cfe5d280521b868fc212b25f021984cf02ced547cd45952b88360766839dfde7d4683e61","0x9ede3d8a54d27e44a9d5ce189618f22d1008505f0e7b9012096b41c4eb3aaf947f6ea42908010080c74756edffa217dfb07ab596d82753deff985ac215e5cc2997d29afe1d397c16","0x9ef78c98723ddc9073523ef3beefda0c1004505f0e7b9012096b41c4eb3aaf947f6ea4290800007c77095dac46c07a40d91506e7637ec4ba5763f5a4efb16ffa83d00700000400"]},horizontalMessages:[],downwardMessages:[]},Xt=[new class{async createInherents(t){const e=await t.parentBlock;if(!e)throw new Error("parent block not found");const i=await e.meta,r=await yt(t),n=await gt(e);return[new Gt.Y(i.registry,i.tx.timestamp.set(n+BigInt(r))).toHex()]}},new class{async createInherents(t,e){const i=await t.parentBlock;if(!i)throw new Error("parent block not found");const r=await i.meta;if(!r.tx.parachainSystem?.setValidationData)return[];const n=await(async t=>{const e=await t.meta;if(0===t.number){const{trieRootHash:t,nodes:e}=await O(Yt.relayChainState.trieNodes,[]);return{...Yt,relayChainState:{trieNodes:e},validationData:{...Yt.validationData,relayParentStorageRoot:t}}}const i=(await t.extrinsics).find((t=>{const i=e.registry.createType("GenericExtrinsic",t)?.args?.[0];return i&&"validationData"in i}));if(!i)throw new Error("Missing validation data from block");return e.registry.createType("GenericExtrinsic",i).args[0].toJSON()})(i);let s=[];const o=[],a={},h=await(async t=>{const e=await t.head.meta,i=await t.head.read("u32",e.query.parachainInfo.parachainId);if(!i)throw new Error("Cannot find parachain id");return i})(i.chain),c=(t=>Zt("0x63f78c98723ddc9073523ef3beefda0c4d7fefc408aac59dbfe80a72ac8e3ce5",t.toU8a()))(h),u=(t=>Zt("0x6a0da05ca59913bc38a8630590f2627c1d3719f5b0b12c7105c073c507445948",t.toU8a()))(h),d=(t=>Zt("0x6a0da05ca59913bc38a8630590f2627cf12b746dcf32e843354583c9702cc020",t.toU8a()))(h),p=await(async(t,e)=>{const i=await T();return(await i.remote.decodeProof(t,e)).reduce(((t,[e,i])=>(t[e]=i,t)),{})})(n.validationData.relayParentStorageRoot,n.relayChainState.trieNodes),m=Math.max(1,r.consts.timestamp?.minimumPeriod?.divn(3e3)?.toNumber()||r.consts.aura?.slotDuration?.divn(6e3)?.toNumber()||1);for(const t of Object.values(Kt))if(t===Kt.CURRENT_SLOT){const e=p[t]?r.registry.createType("Slot",(0,y.G)(p[t])).toNumber():await mt(i)*m,n=r.registry.createType("Slot",e+m);s.push([t,(0,f.c)(n.toU8a())])}else s.push([t,p[t]]);const g=r.registry.createType("Vec<u32>",(0,y.G)(p[u])),b=r.registry.createType("Vec<u32>",(0,y.G)(p[d]));for(const t in e.horizontalMessages){const e=r.registry.createType("u32",t);if(!g.some((t=>t.eq(e)))){const t=l.sortedIndexBy(g,e,(t=>t.toNumber()));g.splice(t,0,e)}if(!b.some((t=>t.eq(e)))){const t=l.sortedIndexBy(b,e,(t=>t.toNumber()));b.splice(t,0,e)}}s.push([u,g.toHex()]),s.push([d,b.toHex()]);const w=r.registry.createType("HeadData",(await i.header).toHex());s.push([Qt(h),(0,f.c)(w.toU8a())]);let v=p[c]||"0x0000000000000000000000000000000000000000000000000000000000000000";for(const{msg:t,sentAt:i}of e.downwardMessages)v=(0,nt.$)((0,xt.e)(r.registry.createType("Hash",v).toU8a(),r.registry.createType("BlockNumber",i).toU8a(),(0,nt.b)(r.registry.createType("Bytes",t).toU8a(),256)),256),o.push({msg:t,sentAt:i});s.push([c,v]);for(const t of g){const i=e.horizontalMessages[t.toNumber()]||e.horizontalMessages[t.toString()]||[],o=r.registry.createType("HrmpChannelId",{sender:t,receiver:h.toNumber()}),c=Jt(o),u=p[c],l=u?r.registry.createType("AbridgedHrmpChannel",(0,y.G)(u)).toJSON():{maxCapacity:1e3,maxTotalSize:102400,maxMessageSize:102400,msgCount:0,totalSize:0,mqcHead:0,senderDeposit:5e12,recipientDeposit:5e12},f=[];for(const{data:t,sentAt:e}of i){const e=n.validationData.relayParentNumber+1,i=r.registry.createType("Bytes",t);l.mqcHead=(0,nt.$)((0,xt.e)(r.registry.createType("Hash",l.mqcHead).toU8a(),r.registry.createType("BlockNumber",e).toU8a(),(0,nt.b)(i.toU8a(),256)),256),l.msgCount=l.msgCount+1,l.totalSize=l.totalSize+i.length,f.push({data:t,sentAt:e})}a[t.toNumber()]=f,s.push([c,r.registry.createType("AbridgedHrmpChannel",l).toHex()])}for(const t of b){const e=r.registry.createType("HrmpChannelId",{sender:h.toNumber(),receiver:t}),i=Jt(e),n=p[i],o=n?r.registry.createType("AbridgedHrmpChannel",(0,y.G)(n)).toJSON():{maxCapacity:1e3,maxTotalSize:102400,maxMessageSize:102400,msgCount:0,totalSize:0,mqcHead:0};s.push([i,r.registry.createType("AbridgedHrmpChannel",o).toHex()])}const M=(t=>Zt("0xcd710b30bd2eab0352ddcc26417aa1949e94c040f5e73d9b7addd6cb603d15d3",t.toU8a()))(h);if(await i.get(ot(r.query.parachainSystem.pendingValidationCode()))){const t=r.registry.createType("UpgradeGoAhead","GoAhead");s.push([M,t.toHex()])}else s.push([M,null]);if(e.relayChainStateOverrides)for(const[t,i]of e.relayChainStateOverrides)s=s.filter((([e,i])=>e!=t)),s.push([t,i]);const{trieRootHash:S,nodes:k}=await O(n.relayChainState.trieNodes,s),x={...n,downwardMessages:o,horizontalMessages:a,validationData:{...n.validationData,relayParentStorageRoot:S,relayParentNumber:e.relayParentNumber??n.validationData.relayParentNumber+m},relayChainState:{trieNodes:k}};return[new Gt.Y(r.registry,r.tx.parachainSystem.setValidationData(x)).toHex()]}},new class{async createInherents(t,e){const i=await t.parentBlock;if(!i)throw new Error("parent block not found");const r=await i.meta;if(!r.tx.paraInherent?.enter)return[];if(0===i.number)return[new Gt.Y(r.registry,r.tx.paraInherent.enter({parentHeader:(await i.header).toJSON()})).toHex()];const n=(await i.extrinsics).find((t=>{const e=r.registry.createType("GenericExtrinsic",t)?.args?.[0];return e&&"bitfields"in e}));if(!n)throw new Error("Missing paraInherent data from block");const s={...r.registry.createType("GenericExtrinsic",n).args[0].toJSON(),bitfields:[],backedCandidates:[],parentHeader:(await i.header).toJSON()};return[new Gt.Y(r.registry,r.tx.paraInherent.enter(s)).toHex()]}},new class{async createInherents(t,e){const i=await t.parentBlock;if(!i)throw new Error("parent block not found");const r=await i.meta;if(!r.tx.authorInherent?.kickOffAuthorshipValidation)return r.query.authorNoting&&t.pushStorageLayer().set(ot(r.query.authorNoting.didSetContainerAuthorData()),r.registry.createType("bool",!0).toHex()),[];const n=t.pushStorageLayer(),s=r.registry.hasType("NimbusPrimitivesNimbusCryptoPublic")?"NimbusPrimitivesNimbusCryptoPublic":"AccountId",o=r.registry.hasType("NimbusPrimitivesNimbusCryptoPublic")?"0x567b6ddb05396c0a83853b6f40d27450534c7963df8619b8c6064480c4db9703":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY";if(n.set(ot(r.query.authorInherent.author()),r.registry.createType(s,o).toHex()),r.query.authoritiesNoting&&(n.set(ot(r.query.authoritiesNoting.authorities()),r.registry.createType(`Vec<${s}>`,[o]).toHex()),n.set(ot(r.query.authoritiesNoting.didSetOrchestratorAuthorityData()),r.registry.createType("bool",!0).toHex())),r.query.parachainStaking&&n.set(ot(r.query.parachainStaking.selectedCandidates()),r.registry.createType(`Vec<${s}>`,[o]).toHex()),r.query.authorityAssignment&&r.query.session){const e=await t.chain.head.read("u32",r.query.session.currentIndex);e&&(n.set(ot(r.query.authorityAssignment.collatorContainerChain(e)),r.registry.createType("DpCollatorAssignmentAssignedCollatorsPublic",{orchestratorChain:[o]}).toHex()),n.set(ot(r.query.authorityAssignment.collatorContainerChain(e.toBigInt()+1n)),r.registry.createType("DpCollatorAssignmentAssignedCollatorsPublic",{orchestratorChain:[o]}).toHex())),n.set(ot(r.query.authorNoting.didSetContainerAuthorData()),r.registry.createType("bool",!0).toHex())}return[new Gt.Y(r.registry,r.tx.authorInherent.kickOffAuthorshipValidation()).toHex()]}},new class{async createInherents(t,e){const i=await t.parentBlock;if(!i)throw new Error("parent block not found");const r=await i.meta;return r.tx.randomness?.setBabeRandomnessResults?[new Gt.Y(r.registry,r.tx.randomness.setBabeRandomnessResults()).toHex()]:[]}}],te=(k.child({name:"rpc"}),v.z.custom((t=>/^0x\w+$/.test(t)))),ee=v.z.string().length(66).and(te);class ie extends Error{code;constructor(t,e){super(e),this.name="ResponseError",this.code=t}toJSON(){return{code:this.code,message:this.message}}}const re=v.z.object({count:v.z.number().optional(),to:v.z.number().optional(),dmp:v.z.array(v.z.object({sentAt:v.z.number(),msg:te})).min(1).optional(),ump:v.z.record(v.z.number(),v.z.array(te).min(1)).optional(),hrmp:v.z.record(v.z.union([v.z.number(),v.z.string()]),v.z.array(v.z.object({sentAt:v.z.number(),data:te})).min(1)).optional(),transactions:v.z.array(te).min(1).optional(),unsafeBlockHeight:v.z.number().optional(),relayChainStateOverrides:v.z.array(v.z.tuple([te,v.z.union([te,v.z.null()])])).optional(),relayParentNumber:v.z.number().optional()}),ne=ee.or(v.z.number()),se={dev_newBlock:async(t,[e])=>{const{count:i,to:r,hrmp:n,ump:s,dmp:o,transactions:a,unsafeBlockHeight:h,relayChainStateOverrides:c,relayParentNumber:u}=re.parse(e||{}),l=t.chain.head.number,f=r?r-l:i,d=void 0!==f?Math.max(f,1):1;let p;if(void 0!==h&&h<=l)throw new ie(1,"unsafeBlockHeight must be greater than current block height");for(let e=0;e<d;e++){const i=await t.chain.newBlock({transactions:a,horizontalMessages:n,upwardMessages:s,downwardMessages:o,unsafeBlockHeight:0===e?h:void 0,relayChainStateOverrides:c,relayParentNumber:u}).catch((t=>{throw new ie(1,t.toString())}));k.debug({hash:i.hash},"dev_newBlock"),p=i.hash}return p},dev_setBlockBuildMode:async(t,[e])=>{if(k.debug({mode:Nt[e]},"dev_setBlockBuildMode"),void 0===Nt[e])throw new ie(1,`Invalid mode ${e}`);t.chain.txPool.mode=e},dev_setHead:async(t,[e])=>{const i=ne.parse(e);let r;if("number"==typeof i){const e=i>0?i:t.chain.head.number+i;r=await t.chain.getBlockAt(e)}else r=await t.chain.getBlock(i);if(!r)throw new ie(1,`Block not found ${i}`);return await t.chain.setHead(r),r.hash},dev_setRuntimeLogLevel:async(t,[e])=>{if(k.debug({runtimeLogLevel:e},"dev_setRuntimeLogLevel"),"number"!=typeof e)throw new ie(1,`Invalid runtimeLogLevel ${e}`);t.chain.runtimeLogLevel=e},dev_setStorage:async(t,e)=>{const[i,r]=e,n=await W(t.chain,i,r).catch((t=>{throw new ie(1,t.toString())}));return k.debug({hash:n,values:i},"dev_setStorage"),n},dev_timeTravel:async(t,[e])=>{const i="string"==typeof e?Date.parse(e):e;if(Number.isNaN(i))throw new ie(1,"Invalid date");return await(async(t,e)=>{const i=await t.head.meta,r=await yt(t.head),n=Math.floor(e/r),s=[[ot(i.query.timestamp.now()),(0,f.c)(i.registry.createType("u64",e).toU8a())]];if(i.consts.babe){s.push([ot(i.query.babe.currentSlot()),(0,f.c)(i.registry.createType("Slot",n).toU8a())]);const t=i.consts.babe.epochDuration.toNumber(),r=Math.floor(e/t);s.push([ot(i.query.babe.epochIndex()),(0,f.c)(i.registry.createType("u64",r).toU8a())])}else i.query.aura&&s.push([ot(i.query.aura.currentSlot()),(0,f.c)(i.registry.createType("Slot",n).toU8a())]);await W(t,s)})(t.chain,i),i}},oe=se,ae=k.child({name:"rpc-chainHead_v1"}),he=new Map;async function ce(t){await new Promise((t=>setTimeout(t,0))),t()}const ue=async(t,[e],{subscribe:i})=>{const r=t.chain.headState.subscribeHead((async t=>{ae.trace({hash:t.hash},"chainHead_v1_follow");const i=e?await(async()=>{const[e,i]=await Promise.all([t.runtimeVersion,t.parentBlock.then((t=>t?.runtimeVersion))]);return e.implVersion!==i?.implVersion||e.specVersion!==i.specVersion?e:null})():null;n({event:"newBlock",blockHash:t.hash,parentBlockHash:(await t.parentBlock)?.hash,newRuntime:i}),n({event:"bestBlockChanged",bestBlockHash:t.hash}),n({event:"finalized",finalizedBlockHashes:[t.hash],prunedBlockHashes:[]})})),n=i("chainHead_v1_followEvent",r,(()=>{t.chain.headState.unsubscribeHead(r),he.delete(r)}));return he.set(r,{callback:n,pendingDescendantValues:new Map}),ce((async()=>{n({event:"initialized",finalizedBlockHashes:[t.chain.head.hash],finalizedBlockRuntime:e?await t.chain.head.runtimeVersion:null})})),r},le=async(t,[e],{unsubscribe:i})=>(i(e),null),fe=async(t,[e,i])=>{if(!he.has(e))return null;const r=await t.chain.getBlock(i);return r?(await r.header).toHex():null},de=t=>({result:"started",operationId:t}),pe=()=>Math.random().toString(36).substring(2),me=async(t,[e,i,r,n])=>{const s=pe();return ce((async()=>{const o=await t.chain.getBlock(i);if(o)try{const t=await o.call(r,[n]);he.get(e)?.callback({event:"operationCallDone",operationId:s,output:t.result})}catch(t){he.get(e)?.callback({event:"operationError",operationId:s,error:t.message})}else he.get(e)?.callback({event:"operationError",operationId:s,error:`Block ${i} not found`})})),de(s)};async function ge(t,e){const i=await t.getKeysPaged({...e,pageSize:1e3}),r=await Promise.all(i.map((e=>t.get(e).then((t=>({key:e,value:t}))))));return i.length<1e3?{items:r,next:null}:{items:r,next:{...e,startKey:i[999]}}}const ye=async(t,[e,i,r,n])=>{const s=pe();return ce((async()=>{const n=await t.chain.getBlock(i);if(!n)return void he.get(e)?.callback({event:"operationError",operationId:s,error:"Block not found"});const o=(await Promise.all(r.map((async t=>{switch(t.type){case"value":{const i=await n.get(t.key);return i&&he.get(e)?.callback({event:"operationStorageItems",operationId:s,items:[{key:t.key,value:i}]}),null}case"descendantsValues":{const{items:i,next:r}=await ge(n,{prefix:t.key,startKey:"0x"});return he.get(e)?.callback({event:"operationStorageItems",operationId:s,items:i}),r}default:return console.warn(`Storage type not implemented ${t.type}`),null}})))).filter((t=>null!==t));if(o.length){const t=he.get(e);t&&(t.pendingDescendantValues.set(s,{hash:i,params:o}),t.callback({event:"operationWaitingForContinue",operationId:s}))}else he.get(e)?.callback({event:"operationStorageDone",operationId:s})})),{...de(s),discardedItems:0}},be={result:"limitReached"},we=async(t,[e,i])=>{if(!he.has(e))return be;const r=await t.chain.getBlock(i);if(!r)throw new ie(-32801,"Block not found");const n=pe();return ce((async()=>{const t=await r.extrinsics;he.get(e)?.callback({event:"operationBodyDone",operationId:n,value:t})})),de(n)},ve=async(t,[e,i])=>{const r=he.get(e),n=r?.pendingDescendantValues.get(i);if(!n||!r)throw new ie(-32803,"Operation ID doesn't have anything pending");const s=await t.chain.getBlock(n.hash);if(!s)throw new ie(-32801,"Block not found");return ce((async()=>{const t=(await Promise.all(n.params.map((async t=>{const{items:e,next:n}=await ge(s,t);return r.callback({event:"operationStorageItems",operationId:i,items:e}),n})))).filter((t=>null!==t));t.length?(r.pendingDescendantValues.set(i,{hash:n.hash,params:t}),r.callback({event:"operationWaitingForContinue",operationId:i})):(r.pendingDescendantValues.delete(i),r.callback({event:"operationStorageDone",operationId:i}))})),null},Me=async(t,[e,i])=>(he.get(e)?.pendingDescendantValues.delete(i),null),Se=async(t,[e,i])=>null,ke=async t=>t.chain.api.getSystemChain(),xe=async t=>{const e=await t.chain.api.getBlockHash(0);if(null===e)throw new ie(1,"Unexpected null genesis hash");return e},Ee=async t=>t.chain.api.getSystemProperties(),Be=k.child({name:"rpc-transaction_v1"}),_e=async(t,[e])=>(await t.chain.submitExtrinsic(e).catch((t=>{Be.warn("Submit extrinsic failed",t)})),Math.random().toString(36).substring(2)),Ae=async(t,[e])=>null,Te={...r,...s,...n},Re=k.child({name:"rpc-author"}),Oe=async(t,[e])=>t.chain.submitExtrinsic(e).catch((t=>{const e=t.isInvalid?1010:1011;throw new ie(e,t.toString())})),Le=async(t,[e],{subscribe:i,unsubscribe:r})=>{let n=t=>{};const s=t.chain.headState.subscribeHead((t=>n(t))),o=i("author_extrinsicUpdate",s,(()=>t.chain.headState.unsubscribeHead(s))),a=([t,i])=>{t===e&&(o(i.toJSON()),h(s))};t.chain.txPool.event.on(Pt,a);const h=e=>{t.chain.txPool.event.removeListener(Pt,a),r(e)};n=async t=>{(await t.extrinsics).includes(e)&&(Re.debug({block:t.hash},"author_extrinsicUpdate"),o({inBlock:t.hash}),await new Promise((t=>setTimeout(t,100))),o({finalized:t.hash}),h(s))};try{await t.chain.submitExtrinsic(e),setTimeout((()=>{o({ready:null}),o({broadcast:["5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY"]})}),50)}catch(t){Re.error({error:t},"ExtrinsicFailed");const e=t.isInvalid?1010:1011;throw h(s),new ie(e,t.toString())}return s},Ce=async(t,[e],{unsubscribe:i})=>{i(e)},Pe=async t=>t.chain.txPool.pendingExtrinsics;var Ne=i(74076),ze=i(6961);const Ie=({parentHash:t,number:e,stateRoot:i,extrinsicsRoot:r,digest:n})=>({parentHash:t.toHex(),number:e.toHex(),stateRoot:i.toHex(),extrinsicsRoot:r.toHex(),digest:{logs:n.logs.map((t=>t.toHex()))}}),De=async(t,[e])=>{const i=Array.isArray(e)?e:[e],r=await Promise.all(i.map((t=>(0,Ne.vq)(t,void 0,!0)?(0,ze.l)(t):t)).map((e=>t.chain.getBlockAt(e)))).then((t=>t.map((t=>t?.hash||null))));return Array.isArray(e)?r:r[0]},He=async(t,[e])=>{const i=await t.chain.getBlock(e);if(!i)throw new ie(1,`Block ${e} not found`);return Ie(await i.header)},Ue=async(t,[e])=>{const i=await t.chain.getBlock(e);if(!i)throw new ie(1,`Block ${e} not found`);return{block:{header:Ie(await i.header),extrinsics:await i.extrinsics},justifications:null}},Fe=async t=>t.chain.head.hash,je=async(t,e,{subscribe:i})=>{let r=()=>{};const n=t.chain.headState.subscribeHead((()=>r())),s=i("chain_newHead",n,(()=>t.chain.headState.unsubscribeHead(n)));return r=async()=>{s(Ie(await t.chain.head.header))},setTimeout(r,50),n},qe=async(t,e,{subscribe:i})=>{let r=()=>{};const n=t.chain.headState.subscribeHead((()=>r())),s=i("chain_finalizedHead",n,(()=>t.chain.headState.unsubscribeHead(n)));return r=async()=>{s(Ie(await t.chain.head.header))},setTimeout(r,50),n},$e=async(t,[e],{unsubscribe:i})=>{i(e)},We=De,Ve=De,Ge=je,Ke=$e,Ze=$e,Je=async(t,[e,i])=>{const r=await t.chain.getBlock(i);if(!r)throw new ie(1,`Block ${i} not found`);const n=await r.registry,s=(0,y.G)(e);return(await r.call("TransactionPaymentApi_query_fee_details",[n.createType("Extrinsic",s).toHex(),n.createType("u32",s.byteLength).toHex()])).result},Qe=async(t,[e,i])=>{const r=await t.chain.getBlock(i);if(!r)throw new ie(1,`Block ${i} not found`);const n=await r.registry,s=(0,y.G)(e);return(await r.call("TransactionPaymentApi_query_info",[n.createType("Extrinsic",s).toHex(),n.createType("u32",s.byteLength).toHex()])).result},Ye=k.child({name:"rpc-state"}),Xe=async(t,[e])=>{const i=await t.chain.getBlock(e);return i?.runtimeVersion||null},ti=async(t,[e])=>{const i=await t.chain.getBlock(e);return i?.metadata||null},ei=async(t,[e,i])=>{const r=await t.chain.getBlock(i);return await(r?.get(e))||null},ii=async(t,[e,i,r,n])=>{const s=await t.chain.getBlock(n);return s?.getKeysPaged({prefix:e,pageSize:i,startKey:r})},ri=async(t,[e,i])=>{const r=await t.chain.getBlock(i);if(!r)return[];const n=await Promise.all(e.map((async t=>[t,await r.get(t).then((t=>t||null))])));return[{block:r.hash,changes:n}]},ni=async(t,[e,i,r])=>{const n=await t.chain.getBlock(r);if(!n)throw new ie(1,`Block ${r} not found`);return(await n.call(e,[i])).result},si=async(t,e,{subscribe:i})=>{let r=t=>{};const n=await t.chain.headState.subscribeStorage([(0,st.$)(":code")],(t=>r(t))),s=i("state_runtimeVersion",n,(()=>t.chain.headState.unsubscribeStorage(n)));return r=async t=>s(await t.runtimeVersion),(async()=>{r(t.chain.head)})(),n},oi=async(t,[e],{unsubscribe:i})=>{i(e)},ai=async(t,[e],{subscribe:i})=>{let r=(t,e)=>{};const n=await t.chain.headState.subscribeStorage(e,((t,e)=>r(t,e))),s=i("state_storage",n,(()=>t.chain.headState.unsubscribeStorage(n)));return r=async(t,e)=>{Ye.trace({hash:t.hash},"state_subscribeStorage"),s({block:t.hash,changes:e})},(async()=>{const i=await Promise.all(e.map((async e=>[e,await t.chain.head.get(e)||null])));s({block:t.chain.head.hash,changes:i})})(),n},hi=async(t,[e],{unsubscribe:i})=>{i(e)},ci=async(t,[e,i,r])=>{if(!ft(e))throw new ie(-32e3,"Client error: Invalid child storage key");const n=await t.chain.getBlock(r);return await(n?.get(lt(e,i)))||null},ui=async(t,[e,i,r,n,s])=>{if(!ft(e))throw new ie(-32e3,"Client error: Invalid child storage key");const o=await t.chain.getBlock(s);return o?.getKeysPaged({prefix:lt(e,i),pageSize:r,startKey:lt(e,n)}).then((t=>t.map(pt)))},li=ei,fi=async()=>"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY",di=async()=>["Full"],pi=async()=>[],mi=async t=>t.chain.api.getSystemChain(),gi=async t=>t.chain.api.getSystemProperties(),yi=async t=>t.chain.api.getSystemName(),bi=async t=>"chopsticks-v1",wi=async t=>"Development",vi=async()=>({peers:0,isSyncing:!1,shouldHavePeers:!1}),Mi=async(t,[e,i])=>{const{outcome:r}=await t.chain.dryRunExtrinsic(e,i);return r.toHex()},Si=async(t,[e])=>{const i=t.chain.head,r=await i.registry,n=r.createType("AccountId",e),s=await i.call("AccountNonceApi_account_nonce",[n.toHex()]);return r.createType("Index",(0,y.G)(s.result)).toNumber()+t.chain.txPool.pendingExtrinsicsBy(e).length},ki={...{...o,...a,...h,...c,...u},...Te,...oe,rpc_methods:async()=>Promise.resolve({version:1,methods:Object.keys(ki).sort()})},xi={...ki},Ei=k.child({name:"[Chopsticks provider]"});class Bi{chain;#Ht;#Ut;#Ft;#jt;constructor(t){this.chain=t,this.#Ht=!1,this.#Ut=new _t.v,this.#jt={},this.clone=()=>new Bi(this.chain),this.connect=async()=>{this.#Ht=!0,this.#Ut.emit("connected")},this.disconnect=async()=>{this.#Ht=!1,this.#Ut.emit("disconnected")},this.on=(t,e)=>(this.#Ut.on(t,e),()=>{this.#Ut.removeListener(t,e)}),this.subscriptionManager={subscribe:(t,e,i=(()=>{}))=>{const r=this.#jt[e];return r&&(r.onCancel=i),i=>{Ei.debug("subscribe-callback",t,e,i);const r=this.#jt[e];r?r.callback(null,i):Ei.trace(`Unable to find active subscription=${e}`)}},unsubscribe:t=>{Ei.debug("unsubscribe-callback",t);const e=this.#jt[t];e?(e.onCancel?.(),delete this.#jt[t]):Ei.trace(`Unable to find active subscription=${t}`)}},this.send=async(t,e,i,r)=>{try{Ei.debug("send",{method:t,params:e});const i=xi[t];if(!i)throw Ei.error(`Unable to find rpc handler=${t}`),new Error(`Unable to find rpc handler=${t}`);if(r){Ei.debug("subscribe",{method:t,params:e});const n=await i({chain:this.chain},e,this.subscriptionManager);if(!n)throw new Error(`Unable to subscribe=${t}`);return this.#jt[n]={callback:r.callback,method:t,params:e,type:r.type},n}return Ei.debug("call",{method:t,params:e}),i({chain:this.chain},e,this.subscriptionManager)}catch(t){throw Ei.error("send error.",t),t}},this.#Ft=new Promise(((t,e)=>{this.#Ut.once("connected",t),this.#Ut.once("error",e),this.connect()}))}static fromEndpoint=async(t,e,i)=>new Bi(await(async t=>{const{api:e,blockHash:i,...r}=await(async t=>{let e;k.debug(t,"Setup options"),e=t.genesis?t.genesis:"string"==typeof t.endpoint&&/^(https|http):\/\//.test(t.endpoint||"")?new Wt.x(t.endpoint):new Vt.U(t.endpoint,3e3);const i=new bt(e);let r;if(i.onFetching(t.hooks?.apiFetching),await i.isReady,null==t.block)r=await i.getBlockHash().then((t=>{if(!t)throw new Error("Cannot find block hash");return t}));else if("string"==typeof t.block&&t.block.startsWith("0x"))r=t.block;else{if(!Number.isInteger(+t.block))throw new Error(`Invalid block number or hash: ${t.block}`);r=await i.getBlockHash(Number(t.block)).then((e=>{if(!e)throw new Error(`Cannot find block hash for ${t.block}`);return e}))}return k.debug({...t,blockHash:r},"Args"),{...t,blockHash:r,api:i}})(t),n=await e.getHeader(i);if(!n)throw new Error(`Cannot find header for ${i}`);const s=new $t({api:e,buildBlockMode:r.buildBlockMode,inherentProviders:Xt,db:r.db,header:{hash:i,number:Number(n.number)},mockSignatureHost:r.mockSignatureHost,allowUnresolvedImports:r.allowUnresolvedImports,runtimeLogLevel:r.runtimeLogLevel,registeredTypes:r.registeredTypes||{},offchainWorker:r.offchainWorker,maxMemoryBlockCount:r.maxMemoryBlockCount,processQueuedMessages:r.processQueuedMessages});return r.genesis&&await s.newBlock(),s})({endpoint:t,mockSignatureHost:!0,block:e,db:i}));get hasSubscriptions(){return!0}get isClonable(){return!0}get isConnected(){return this.#Ht}get isReady(){return this.#Ft}clone;connect;disconnect;on;subscriptionManager;send;subscribe(t,e,i,r){return this.send(e,i,!1,{callback:r,type:t})}async unsubscribe(t,e,i){if(!this.#jt[i])return Ei.trace(`Unable to find active subscription=${i}`),!1;try{return this.send(e,[i])}catch{return!1}}}},80753:(t,e,i)=>{"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i.d(e,{Z:()=>r})},9249:(t,e,i)=>{"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,{Z:()=>r})},87371:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(32802);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(0,r.Z)(n.key),n)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}},56666:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var r=i(32802);function n(t,e,i){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},7896:(t,e,i)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},r.apply(this,arguments)}i.d(e,{Z:()=>r})},28354:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var r=i(95058);function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,r.Z)(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(arguments.length<3?t:i):s.value}},n.apply(this,arguments)}},95058:(t,e,i)=>{"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}i.d(e,{Z:()=>r})},64136:(t,e,i)=>{"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}i.d(e,{Z:()=>n})},37584:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var r=i(56666);function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach((function(e){(0,r.Z)(t,e,i[e])}))}return t}},11987:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(86522),n=i(80753);function s(t,e){if(e&&("object"===(0,r.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,n.Z)(t)}},43309:(t,e,i)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,n,s,o,a=[],h=!0,c=!1;try{if(s=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);h=!0);}catch(t){c=!0,n=t}finally{try{if(!h&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(c)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i.d(e,{Z:()=>n})},32802:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var r=i(86522);function n(t){var e=function(t,e){if("object"!==(0,r.Z)(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==(0,r.Z)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===(0,r.Z)(e)?e:String(e)}},86522:(t,e,i)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}i.d(e,{Z:()=>r})},60418:(t,e,i)=>{"use strict";i.d(e,{Z:()=>Me});var r={};function n(t,e){return function(){return t.apply(e,arguments)}}i.r(r),i.d(r,{hasBrowserEnv:()=>mt,hasStandardBrowserEnv:()=>yt,hasStandardBrowserWebWorkerEnv:()=>bt,navigator:()=>gt,origin:()=>wt});var s=i(34406);const{toString:o}=Object.prototype,{getPrototypeOf:a}=Object,h=(c=Object.create(null),t=>{const e=o.call(t);return c[e]||(c[e]=e.slice(8,-1).toLowerCase())});var c;const u=t=>(t=t.toLowerCase(),e=>h(e)===t),l=t=>e=>typeof e===t,{isArray:f}=Array,d=l("undefined"),p=u("ArrayBuffer"),m=l("string"),g=l("function"),y=l("number"),b=t=>null!==t&&"object"==typeof t,w=t=>{if("object"!==h(t))return!1;const e=a(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=u("Date"),M=u("File"),S=u("Blob"),k=u("FileList"),x=u("URLSearchParams"),[E,B,_,A]=["ReadableStream","Request","Response","Headers"].map(u);function T(t,e,{allOwnKeys:i=!1}={}){if(null==t)return;let r,n;if("object"!=typeof t&&(t=[t]),f(t))for(r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else{const n=i?Object.getOwnPropertyNames(t):Object.keys(t),s=n.length;let o;for(r=0;r<s;r++)o=n[r],e.call(null,t[o],o,t)}}function R(t,e){e=e.toLowerCase();const i=Object.keys(t);let r,n=i.length;for(;n-- >0;)if(r=i[n],e===r.toLowerCase())return r;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,L=t=>!d(t)&&t!==O,C=(P="undefined"!=typeof Uint8Array&&a(Uint8Array),t=>P&&t instanceof P);var P;const N=u("HTMLFormElement"),z=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),I=u("RegExp"),D=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),r={};T(i,((i,n)=>{let s;!1!==(s=e(i,n,t))&&(r[n]=s||i)})),Object.defineProperties(t,r)},H="abcdefghijklmnopqrstuvwxyz",U="0123456789",F={DIGIT:U,ALPHA:H,ALPHA_DIGIT:H+H.toUpperCase()+U},j=u("AsyncFunction"),q=($="function"==typeof setImmediate,W=g(O.postMessage),$?setImmediate:W?(V=`axios@${Math.random()}`,G=[],O.addEventListener("message",(({source:t,data:e})=>{t===O&&e===V&&G.length&&G.shift()()}),!1),t=>{G.push(t),O.postMessage(V,"*")}):t=>setTimeout(t));var $,W,V,G;const K="undefined"!=typeof queueMicrotask?queueMicrotask.bind(O):void 0!==s&&s.nextTick||q,Z={isArray:f,isArrayBuffer:p,isBuffer:function(t){return null!==t&&!d(t)&&null!==t.constructor&&!d(t.constructor)&&g(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||g(t.append)&&("formdata"===(e=h(t))||"object"===e&&g(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&p(t.buffer),e},isString:m,isNumber:y,isBoolean:t=>!0===t||!1===t,isObject:b,isPlainObject:w,isReadableStream:E,isRequest:B,isResponse:_,isHeaders:A,isUndefined:d,isDate:v,isFile:M,isBlob:S,isRegExp:I,isFunction:g,isStream:t=>b(t)&&g(t.pipe),isURLSearchParams:x,isTypedArray:C,isFileList:k,forEach:T,merge:function t(){const{caseless:e}=L(this)&&this||{},i={},r=(r,n)=>{const s=e&&R(i,n)||n;w(i[s])&&w(r)?i[s]=t(i[s],r):w(r)?i[s]=t({},r):f(r)?i[s]=r.slice():i[s]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&T(arguments[t],r);return i},extend:(t,e,i,{allOwnKeys:r}={})=>(T(e,((e,r)=>{i&&g(e)?t[r]=n(e,i):t[r]=e}),{allOwnKeys:r}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,i,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},toFlatObject:(t,e,i,r)=>{let n,s,o;const h={};if(e=e||{},null==t)return e;do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)o=n[s],r&&!r(o,t,e)||h[o]||(e[o]=t[o],h[o]=!0);t=!1!==i&&a(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},kindOf:h,kindOfTest:u,endsWith:(t,e,i)=>{t=String(t),(void 0===i||i>t.length)&&(i=t.length),i-=e.length;const r=t.indexOf(e,i);return-1!==r&&r===i},toArray:t=>{if(!t)return null;if(f(t))return t;let e=t.length;if(!y(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},forEachEntry:(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},matchAll:(t,e)=>{let i;const r=[];for(;null!==(i=t.exec(e));)r.push(i);return r},isHTMLForm:N,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:D,freezeMethods:t=>{D(t,((e,i)=>{if(g(t)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const r=t[i];g(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(t,e)=>{const i={},r=t=>{t.forEach((t=>{i[t]=!0}))};return f(t)?r(t):r(String(t).split(e)),i},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,i){return e.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:R,global:O,isContextDefined:L,ALPHABET:F,generateString:(t=16,e=F.ALPHA_DIGIT)=>{let i="";const{length:r}=e;for(;t--;)i+=e[Math.random()*r|0];return i},isSpecCompliantForm:function(t){return!!(t&&g(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),i=(t,r)=>{if(b(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const n=f(t)?[]:{};return T(t,((t,e)=>{const s=i(t,r+1);!d(s)&&(n[e]=s)})),e[r]=void 0,n}}return t};return i(t,0)},isAsyncFn:j,isThenable:t=>t&&(b(t)||g(t))&&g(t.then)&&g(t.catch),setImmediate:q,asap:K};function J(t,e,i,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}Z.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const Q=J.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{Y[t]={value:t}})),Object.defineProperties(J,Y),Object.defineProperty(Q,"isAxiosError",{value:!0}),J.from=(t,e,i,r,n,s)=>{const o=Object.create(Q);return Z.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),J.call(o,t.message,e,i,r,n),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const X=J;var tt=i(48834).Buffer;function et(t){return Z.isPlainObject(t)||Z.isArray(t)}function it(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function rt(t,e,i){return t?t.concat(e).map((function(t,e){return t=it(t),!i&&e?"["+t+"]":t})).join(i?".":""):e}const nt=Z.toFlatObject(Z,{},null,(function(t){return/^is[A-Z]/.test(t)})),st=function(t,e,i){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(i=Z.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Z.isUndefined(e[t])}))).metaTokens,n=i.visitor||c,s=i.dots,o=i.indexes,a=(i.Blob||"undefined"!=typeof Blob&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(n))throw new TypeError("visitor must be a function");function h(t){if(null===t)return"";if(Z.isDate(t))return t.toISOString();if(!a&&Z.isBlob(t))throw new X("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(t)||Z.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):tt.from(t):t}function c(t,i,n){let a=t;if(t&&!n&&"object"==typeof t)if(Z.endsWith(i,"{}"))i=r?i:i.slice(0,-2),t=JSON.stringify(t);else if(Z.isArray(t)&&function(t){return Z.isArray(t)&&!t.some(et)}(t)||(Z.isFileList(t)||Z.endsWith(i,"[]"))&&(a=Z.toArray(t)))return i=it(i),a.forEach((function(t,r){!Z.isUndefined(t)&&null!==t&&e.append(!0===o?rt([i],r,s):null===o?i:i+"[]",h(t))})),!1;return!!et(t)||(e.append(rt(n,i,s),h(t)),!1)}const u=[],l=Object.assign(nt,{defaultVisitor:c,convertValue:h,isVisitable:et});if(!Z.isObject(t))throw new TypeError("data must be an object");return function t(i,r){if(!Z.isUndefined(i)){if(-1!==u.indexOf(i))throw Error("Circular reference detected in "+r.join("."));u.push(i),Z.forEach(i,(function(i,s){!0===(!(Z.isUndefined(i)||null===i)&&n.call(e,i,Z.isString(s)?s.trim():s,r,l))&&t(i,r?r.concat(s):[s])})),u.pop()}}(t),e};function ot(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function at(t,e){this._pairs=[],t&&st(t,this,e)}const ht=at.prototype;ht.append=function(t,e){this._pairs.push([t,e])},ht.toString=function(t){const e=t?function(e){return t.call(this,e,ot)}:ot;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const ct=at;function ut(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lt(t,e,i){if(!e)return t;const r=i&&i.encode||ut,n=i&&i.serialize;let s;if(s=n?n(e,i):Z.isURLSearchParams(e)?e.toString():new ct(e,i).toString(r),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const ft=class{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ct,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},mt="undefined"!=typeof window&&"undefined"!=typeof document,gt="object"==typeof navigator&&navigator||void 0,yt=mt&&(!gt||["ReactNative","NativeScript","NS"].indexOf(gt.product)<0),bt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,wt=mt&&window.location.href||"http://localhost",vt={...r,...pt},Mt=function(t){function e(t,i,r,n){let s=t[n++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=n>=t.length;return s=!s&&Z.isArray(r)?r.length:s,a?(Z.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!o):(r[s]&&Z.isObject(r[s])||(r[s]=[]),e(t,i,r[s],n)&&Z.isArray(r[s])&&(r[s]=function(t){const e={},i=Object.keys(t);let r;const n=i.length;let s;for(r=0;r<n;r++)s=i[r],e[s]=t[s];return e}(r[s])),!o)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const i={};return Z.forEachEntry(t,((t,r)=>{e(function(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,i,0)})),i}return null},St={transitional:dt,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,n=Z.isObject(t);if(n&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return r?JSON.stringify(Mt(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)||Z.isReadableStream(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(n){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return st(t,new vt.classes.URLSearchParams,Object.assign({visitor:function(t,e,i,r){return vt.isNode&&Z.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=Z.isFileList(t))||i.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return st(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return n||r?(e.setContentType("application/json",!1),function(t,e,i){if(Z.isString(t))try{return(0,JSON.parse)(t),Z.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||St.transitional,i=e&&e.forcedJSONParsing,r="json"===this.responseType;if(Z.isResponse(t)||Z.isReadableStream(t))return t;if(t&&Z.isString(t)&&(i&&!this.responseType||r)){const i=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw X.from(t,X.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vt.classes.FormData,Blob:vt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],(t=>{St.headers[t]={}}));const kt=St,xt=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Et=Symbol("internals");function Bt(t){return t&&String(t).trim().toLowerCase()}function _t(t){return!1===t||null==t?t:Z.isArray(t)?t.map(_t):String(t)}function At(t,e,i,r,n){return Z.isFunction(r)?r.call(this,e,i):(n&&(e=i),Z.isString(e)?Z.isString(r)?-1!==e.indexOf(r):Z.isRegExp(r)?r.test(e):void 0:void 0)}class Tt{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function n(t,e,i){const n=Bt(e);if(!n)throw new Error("header name must be a non-empty string");const s=Z.findKey(r,n);(!s||void 0===r[s]||!0===i||void 0===i&&!1!==r[s])&&(r[s||e]=_t(t))}const s=(t,e)=>Z.forEach(t,((t,i)=>n(t,i,e)));if(Z.isPlainObject(t)||t instanceof this.constructor)s(t,e);else if(Z.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))s((t=>{const e={};let i,r,n;return t&&t.split("\n").forEach((function(t){n=t.indexOf(":"),i=t.substring(0,n).trim().toLowerCase(),r=t.substring(n+1).trim(),!i||e[i]&&xt[i]||("set-cookie"===i?e[i]?e[i].push(r):e[i]=[r]:e[i]=e[i]?e[i]+", "+r:r)})),e})(t),e);else if(Z.isHeaders(t))for(const[e,r]of t.entries())n(r,e,i);else null!=t&&n(e,t,i);return this}get(t,e){if(t=Bt(t)){const i=Z.findKey(this,t);if(i){const t=this[i];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(t);)e[r[1]]=r[2];return e}(t);if(Z.isFunction(e))return e.call(this,t,i);if(Z.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Bt(t)){const i=Z.findKey(this,t);return!(!i||void 0===this[i]||e&&!At(0,this[i],i,e))}return!1}delete(t,e){const i=this;let r=!1;function n(t){if(t=Bt(t)){const n=Z.findKey(i,t);!n||e&&!At(0,i[n],n,e)||(delete i[n],r=!0)}}return Z.isArray(t)?t.forEach(n):n(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const n=e[i];t&&!At(0,this[n],n,t,!0)||(delete this[n],r=!0)}return r}normalize(t){const e=this,i={};return Z.forEach(this,((r,n)=>{const s=Z.findKey(i,n);if(s)return e[s]=_t(r),void delete e[n];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,i)=>e.toUpperCase()+i))}(n):String(n).trim();o!==n&&delete e[n],e[o]=_t(r),i[o]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Z.forEach(this,((i,r)=>{null!=i&&!1!==i&&(e[r]=t&&Z.isArray(i)?i.join(", "):i)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach((t=>i.set(t))),i}static accessor(t){const e=(this[Et]=this[Et]={accessors:{}}).accessors,i=this.prototype;function r(t){const r=Bt(t);e[r]||(function(t,e){const i=Z.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+i,{value:function(t,i,n){return this[r].call(this,e,t,i,n)},configurable:!0})}))}(i,t),e[r]=!0)}return Z.isArray(t)?t.forEach(r):r(t),this}}Tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Z.reduceDescriptors(Tt.prototype,(({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[i]=t}}})),Z.freezeMethods(Tt);const Rt=Tt;function Ot(t,e){const i=this||kt,r=e||i,n=Rt.from(r.headers);let s=r.data;return Z.forEach(t,(function(t){s=t.call(i,s,n.normalize(),e?e.status:void 0)})),n.normalize(),s}function Lt(t){return!(!t||!t.__CANCEL__)}function Ct(t,e,i){X.call(this,null==t?"canceled":t,X.ERR_CANCELED,e,i),this.name="CanceledError"}Z.inherits(Ct,X,{__CANCEL__:!0});const Pt=Ct;function Nt(t,e,i){const r=i.config.validateStatus;i.status&&r&&!r(i.status)?e(new X("Request failed with status code "+i.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}const zt=(t,e,i=3)=>{let r=0;const n=function(t,e){t=t||10;const i=new Array(t),r=new Array(t);let n,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const h=Date.now(),c=r[o];n||(n=h),i[s]=a,r[s]=h;let u=o,l=0;for(;u!==s;)l+=i[u++],u%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),h-n<e)return;const f=c&&h-c;return f?Math.round(1e3*l/f):void 0}}(50,250);return function(t,e){let i,r,n=0,s=1e3/e;const o=(e,s=Date.now())=>{n=s,i=null,r&&(clearTimeout(r),r=null),t.apply(null,e)};return[(...t)=>{const e=Date.now(),a=e-n;a>=s?o(t,e):(i=t,r||(r=setTimeout((()=>{r=null,o(i)}),s-a)))},()=>i&&o(i)]}((i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,h=n(a);r=s,t({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:h||void 0,estimated:h&&o&&s<=o?(o-s)/h:void 0,event:i,lengthComputable:null!=o,[e?"download":"upload"]:!0})}),i)},It=(t,e)=>{const i=null!=t;return[r=>e[0]({lengthComputable:i,total:t,loaded:r}),e[1]]},Dt=t=>(...e)=>Z.asap((()=>t(...e))),Ht=vt.hasStandardBrowserEnv?function(){const t=vt.navigator&&/(msie|trident)/i.test(vt.navigator.userAgent),e=document.createElement("a");let i;function r(i){let r=i;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=r(window.location.href),function(t){const e=Z.isString(t)?r(t):t;return e.protocol===i.protocol&&e.host===i.host}}():function(){return!0},Ut=vt.hasStandardBrowserEnv?{write(t,e,i,r,n,s){const o=[t+"="+encodeURIComponent(e)];Z.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),Z.isString(r)&&o.push("path="+r),Z.isString(n)&&o.push("domain="+n),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ft(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const jt=t=>t instanceof Rt?{...t}:t;function qt(t,e){e=e||{};const i={};function r(t,e,i){return Z.isPlainObject(t)&&Z.isPlainObject(e)?Z.merge.call({caseless:i},t,e):Z.isPlainObject(e)?Z.merge({},e):Z.isArray(e)?e.slice():e}function n(t,e,i){return Z.isUndefined(e)?Z.isUndefined(t)?void 0:r(void 0,t,i):r(t,e,i)}function s(t,e){if(!Z.isUndefined(e))return r(void 0,e)}function o(t,e){return Z.isUndefined(e)?Z.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(i,n,s){return s in e?r(i,n):s in t?r(void 0,i):void 0}const h={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>n(jt(t),jt(e),!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),(function(r){const s=h[r]||n,o=s(t[r],e[r],r);Z.isUndefined(o)&&s!==a||(i[r]=o)})),i}const $t=t=>{const e=qt({},t);let i,{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:h}=e;if(e.headers=a=Rt.from(a),e.url=lt(Ft(e.baseURL,e.url),t.params,t.paramsSerializer),h&&a.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Z.isFormData(r))if(vt.hasStandardBrowserEnv||vt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(i=a.getContentType())){const[t,...e]=i?i.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(vt.hasStandardBrowserEnv&&(n&&Z.isFunction(n)&&(n=n(e)),n||!1!==n&&Ht(e.url))){const t=s&&o&&Ut.read(o);t&&a.set(s,t)}return e},Wt="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,i){const r=$t(t);let n=r.data;const s=Rt.from(r.headers).normalize();let o,a,h,c,u,{responseType:l,onUploadProgress:f,onDownloadProgress:d}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Rt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Nt((function(t){e(t),p()}),(function(t){i(t),p()}),{data:l&&"text"!==l&&"json"!==l?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:t,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(i(new X("Request aborted",X.ECONNABORTED,t,m)),m=null)},m.onerror=function(){i(new X("Network Error",X.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const n=r.transitional||dt;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),i(new X(e,n.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,m)),m=null},void 0===n&&s.setContentType(null),"setRequestHeader"in m&&Z.forEach(s.toJSON(),(function(t,e){m.setRequestHeader(e,t)})),Z.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),l&&"json"!==l&&(m.responseType=r.responseType),d&&([h,u]=zt(d,!0),m.addEventListener("progress",h)),f&&m.upload&&([a,c]=zt(f),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=e=>{m&&(i(!e||e.type?new Pt(null,t,m):e),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(r.url);y&&-1===vt.protocols.indexOf(y)?i(new X("Unsupported protocol "+y+":",X.ERR_BAD_REQUEST,t)):m.send(n||null)}))},Vt=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let i,r=new AbortController;const n=function(t){if(!i){i=!0,o();const e=t instanceof Error?t:this.reason;r.abort(e instanceof X?e:new Pt(e instanceof Error?e.message:e))}};let s=e&&setTimeout((()=>{s=null,n(new X(`timeout ${e} of ms exceeded`,X.ETIMEDOUT))}),e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach((t=>{t.unsubscribe?t.unsubscribe(n):t.removeEventListener("abort",n)})),t=null)};t.forEach((t=>t.addEventListener("abort",n)));const{signal:a}=r;return a.unsubscribe=()=>Z.asap(o),a}},Gt=function*(t,e){let i=t.byteLength;if(!e||i<e)return void(yield t);let r,n=0;for(;n<i;)r=n+e,yield t.slice(n,r),n=r},Kt=(t,e,i,r)=>{const n=async function*(t,e){for await(const i of async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}}(t))yield*Gt(i,e)}(t,e);let s,o=0,a=t=>{s||(s=!0,r&&r(t))};return new ReadableStream({async pull(t){try{const{done:e,value:r}=await n.next();if(e)return a(),void t.close();let s=r.byteLength;if(i){let t=o+=s;i(t)}t.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:t=>(a(t),n.return())},{highWaterMark:2})},Zt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Jt=Zt&&"function"==typeof ReadableStream,Qt=Zt&&("function"==typeof TextEncoder?(Yt=new TextEncoder,t=>Yt.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var Yt;const Xt=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},te=Jt&&Xt((()=>{let t=!1;const e=new Request(vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),ee=Jt&&Xt((()=>Z.isReadableStream(new Response("").body))),ie={stream:ee&&(t=>t.body)};var re;Zt&&(re=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!ie[t]&&(ie[t]=Z.isFunction(re[t])?e=>e[t]():(e,i)=>{throw new X(`Response type '${t}' is not supported`,X.ERR_NOT_SUPPORT,i)})})));const ne={http:null,xhr:Wt,fetch:Zt&&(async t=>{let{url:e,method:i,data:r,signal:n,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:h,responseType:c,headers:u,withCredentials:l="same-origin",fetchOptions:f}=$t(t);c=c?(c+"").toLowerCase():"text";let d,p=Vt([n,s&&s.toAbortSignal()],o);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(h&&te&&"get"!==i&&"head"!==i&&0!==(g=await(async(t,e)=>{const i=Z.toFiniteNumber(t.getContentLength());return null==i?(async t=>{if(null==t)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t)){const e=new Request(vt.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return Z.isArrayBufferView(t)||Z.isArrayBuffer(t)?t.byteLength:(Z.isURLSearchParams(t)&&(t+=""),Z.isString(t)?(await Qt(t)).byteLength:void 0)})(e):i})(u,r))){let t,i=new Request(e,{method:"POST",body:r,duplex:"half"});if(Z.isFormData(r)&&(t=i.headers.get("content-type"))&&u.setContentType(t),i.body){const[t,e]=It(g,zt(Dt(h)));r=Kt(i.body,65536,t,e)}}Z.isString(l)||(l=l?"include":"omit");const n="credentials"in Request.prototype;d=new Request(e,{...f,signal:p,method:i.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:n?l:void 0});let s=await fetch(d);const o=ee&&("stream"===c||"response"===c);if(ee&&(a||o&&m)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=s[e]}));const e=Z.toFiniteNumber(s.headers.get("content-length")),[i,r]=a&&It(e,zt(Dt(a),!0))||[];s=new Response(Kt(s.body,65536,i,(()=>{r&&r(),m&&m()})),t)}c=c||"text";let y=await ie[Z.findKey(ie,c)||"text"](s,t);return!o&&m&&m(),await new Promise(((e,i)=>{Nt(e,i,{data:y,headers:Rt.from(s.headers),status:s.status,statusText:s.statusText,config:t,request:d})}))}catch(e){if(m&&m(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new X("Network Error",X.ERR_NETWORK,t,d),{cause:e.cause||e});throw X.from(e,e&&e.code,t,d)}})};Z.forEach(ne,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const se=t=>`- ${t}`,oe=t=>Z.isFunction(t)||null===t||!1===t,ae={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let i,r;const n={};for(let s=0;s<e;s++){let e;if(i=t[s],r=i,!oe(i)&&(r=ne[(e=String(i)).toLowerCase()],void 0===r))throw new X(`Unknown adapter '${e}'`);if(r)break;n[e||"#"+s]=r}if(!r){const t=Object.entries(n).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let i=e?t.length>1?"since :\n"+t.map(se).join("\n"):" "+se(t[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:ne};function he(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pt(null,t)}function ce(t){return he(t),t.headers=Rt.from(t.headers),t.data=Ot.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ae.getAdapter(t.adapter||kt.adapter)(t).then((function(e){return he(t),e.data=Ot.call(t,t.transformResponse,e),e.headers=Rt.from(e.headers),e}),(function(e){return Lt(e)||(he(t),e&&e.response&&(e.response.data=Ot.call(t,t.transformResponse,e.response),e.response.headers=Rt.from(e.response.headers))),Promise.reject(e)}))}const ue={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{ue[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));const le={};ue.transitional=function(t,e,i){function r(t,e){return"[Axios v1.7.7] Transitional option '"+t+"'"+e+(i?". "+i:"")}return(i,n,s)=>{if(!1===t)throw new X(r(n," has been removed"+(e?" in "+e:"")),X.ERR_DEPRECATED);return e&&!le[n]&&(le[n]=!0,console.warn(r(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,n,s)}};const fe={assertOptions:function(t,e,i){if("object"!=typeof t)throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const s=r[n],o=e[s];if(o){const e=t[s],i=void 0===e||o(e,s,t);if(!0!==i)throw new X("option "+s+" must be "+i,X.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new X("Unknown option "+s,X.ERR_BAD_OPTION)}},validators:ue},de=fe.validators;class pe{constructor(t){this.defaults=t,this.interceptors={request:new ft,response:new ft}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const i=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?i&&!String(t.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+i):t.stack=i}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=qt(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:n}=e;void 0!==i&&fe.assertOptions(i,{silentJSONParsing:de.transitional(de.boolean),forcedJSONParsing:de.transitional(de.boolean),clarifyTimeoutError:de.transitional(de.boolean)},!1),null!=r&&(Z.isFunction(r)?e.paramsSerializer={serialize:r}:fe.assertOptions(r,{encode:de.function,serialize:de.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=n&&Z.merge(n.common,n[e.method]);n&&Z.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete n[t]})),e.headers=Rt.concat(s,n);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const h=[];let c;this.interceptors.response.forEach((function(t){h.push(t.fulfilled,t.rejected)}));let u,l=0;if(!a){const t=[ce.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,h),u=t.length,c=Promise.resolve(e);l<u;)c=c.then(t[l++],t[l++]);return c}u=o.length;let f=e;for(l=0;l<u;){const t=o[l++],e=o[l++];try{f=t(f)}catch(t){e.call(this,t);break}}try{c=ce.call(this,f)}catch(t){return Promise.reject(t)}for(l=0,u=h.length;l<u;)c=c.then(h[l++],h[l++]);return c}getUri(t){return lt(Ft((t=qt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}Z.forEach(["delete","get","head","options"],(function(t){pe.prototype[t]=function(e,i){return this.request(qt(i||{},{method:t,url:e,data:(i||{}).data}))}})),Z.forEach(["post","put","patch"],(function(t){function e(e){return function(i,r,n){return this.request(qt(n||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}pe.prototype[t]=e(),pe.prototype[t+"Form"]=e(!0)}));const me=pe;class ge{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const i=this;this.promise.then((t=>{if(!i._listeners)return;let e=i._listeners.length;for(;e-- >0;)i._listeners[e](t);i._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{i.subscribe(t),e=t})).then(t);return r.cancel=function(){i.unsubscribe(e)},r},t((function(t,r,n){i.reason||(i.reason=new Pt(t,r,n),e(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new ge((function(e){t=e})),cancel:t}}}const ye=ge,be={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(be).forEach((([t,e])=>{be[e]=t}));const we=be,ve=function t(e){const i=new me(e),r=n(me.prototype.request,i);return Z.extend(r,me.prototype,i,{allOwnKeys:!0}),Z.extend(r,i,null,{allOwnKeys:!0}),r.create=function(i){return t(qt(e,i))},r}(kt);ve.Axios=me,ve.CanceledError=Pt,ve.CancelToken=ye,ve.isCancel=Lt,ve.VERSION="1.7.7",ve.toFormData=st,ve.AxiosError=X,ve.Cancel=ve.CanceledError,ve.all=function(t){return Promise.all(t)},ve.spread=function(t){return function(e){return t.apply(null,e)}},ve.isAxiosError=function(t){return Z.isObject(t)&&!0===t.isAxiosError},ve.mergeConfig=qt,ve.AxiosHeaders=Rt,ve.formToJSON=t=>Mt(Z.isHTMLForm(t)?new FormData(t):t),ve.getAdapter=ae.getAdapter,ve.HttpStatusCode=we,ve.default=ve;const Me=ve},33532:(t,e,i)=>{"use strict";function r(t){if(t)throw t}i.d(e,{N:()=>r})}}]);